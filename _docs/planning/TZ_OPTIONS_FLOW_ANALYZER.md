# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Options Flow AI Analyzer (MVP)

> **–î–ª—è –∫–æ–≥–æ:** –¢—Ä–µ–π–¥–µ—Ä—ã –∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –æ–ø—Ü–∏–æ–Ω–∞–º–∏  
> **–ü—Ä–æ–±–ª–µ–º–∞:** –ê–Ω–∞–ª–∏–∑ –æ–ø—Ü–∏–æ–Ω–Ω–æ–π –¥–æ—Å–∫–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç—Ä–µ–±—É–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã  
> **–†–µ—à–µ–Ω–∏–µ:** –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π AI-–∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫

---

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ß—Ç–æ –º—ã —Å—Ç—Ä–æ–∏–º?

**Options Flow AI Analyzer** - —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–ø—Ü–∏–æ–Ω–Ω—ã–π —Ä—ã–Ω–æ–∫ –ø–æ –ª—é–±–æ–º—É —Ç–∏–∫–µ—Ä—É –∏ –≤—ã–¥–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –≤—ã–≤–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

**–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ:** –í—ã –≤–≤–æ–¥–∏—Ç–µ —Ç–∏–∫–µ—Ä SPY, –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É, –∏ —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥ –≤–∏–¥–∏—Ç–µ:
- –ì–¥–µ —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∫–ª—é—á–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏
- –ï—Å—Ç—å –ª–∏ –∞–Ω–æ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –æ–ø—Ü–∏–æ–Ω–∞—Ö
- –ö–∞–∫–∏–µ —Ä–∏—Å–∫–∏ —Å—Ç–æ–∏—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

**"–°–Ω–∏–º–æ–∫ —Ä—ã–Ω–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"** - –º—ã –±–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–Ω–æ–π –¥–æ—Å–∫–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏—Ö —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (Gemini AI) –∏ –≤—ã–¥–∞–µ–º –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –±—É–¥—É—â–µ–≥–æ.

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è MVP

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: **–æ–¥–∏–Ω —ç–∫—Ä–∞–Ω, –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞, –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç**. –ù–∏–∫–∞–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤, —Ç–∞–±–ª–∏—Ü –∏ —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏. –§–æ–∫—É—Å –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–µ –∞–Ω–∞–ª–∏–∑–∞.

---

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (MVP)

### 2.1. –û–¥–∏–Ω —ç–∫—Ä–∞–Ω - —Ç—Ä–∏ —à–∞–≥–∞

```
[–®–ê–ì 1] ‚Üí [–®–ê–ì 2] ‚Üí [–®–ê–ì 3]
–í–≤–æ–¥ —Ç–∏–∫–µ—Ä–∞ ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ –ò–ò
```

### 2.2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ –∞–Ω–∞–ª–∏–∑–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OPTIONS AI ANALYZER                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [SPY        ] [ üéØ –ê–ù–ê–õ–ò–ó]          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ === –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ===             ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 75%                        ‚îÇ
‚îÇ ‚Ä¢ –û–ø—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ... ‚úì             ‚îÇ
‚îÇ ‚Ä¢ –¶–µ–Ω–∞ –∞–∫—Ü–∏–∏... ‚úì                   ‚îÇ
‚îÇ ‚Ä¢ –ì–∞–º–º–∞ —É—Ä–æ–≤–Ω–∏... ‚è≥                 ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ === –ê–ù–ê–õ–ò–ó GEMINI AI ===            ‚îÇ
‚îÇ ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OPTIONS AI ANALYZER                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [SPY        ] [ üéØ –ê–ù–ê–õ–ò–ó]          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ üìä –û–ü–¶–ò–û–ù–ù–´–ï –î–ê–ù–ù–´–ï (15:30:05)      ‚îÇ
‚îÇ ‚Ä¢ –¶–µ–Ω–∞: $459.80 (+0.5%)             ‚îÇ
‚îÇ ‚Ä¢ Max Pain: $460                    ‚îÇ
‚îÇ ‚Ä¢ Put/Call Ratio: 0.85              ‚îÇ
‚îÇ ‚Ä¢ –ì–∞–º–º–∞ —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è: -2.1M           ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ üß† –ê–ù–ê–õ–ò–ó GEMINI AI                 ‚îÇ
‚îÇ 1. –ö–ª—é—á–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏: $458-$462       ‚îÇ
‚îÇ 2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ 3 –∫—Ä—É–ø–Ω—ã—Ö —Å–¥–µ–ª–∫–∏      ‚îÇ
‚îÇ 3. –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å OTM –ø—É—Ç–æ–≤ +15%     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ ‚ö†Ô∏è –†–∏—Å–∫–∏:                            ‚îÇ
‚îÇ ‚Ä¢ –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å OTM –∫–æ–ª–ª–æ–≤     ‚îÇ
‚îÇ ‚Ä¢ –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è OI –Ω–∞ $460           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (MVP)

### 3.1. –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Frontend   ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ   Backend    ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ  External APIs ‚îÇ
‚îÇ   (React)   ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ ‚îÇ  (FastAPI)   ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ ‚îÇ  (Polygon.io)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  Gemini AI   ‚îÇ
                     ‚îÇ   Analysis   ‚îÇ
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ—á–µ–º—É —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞?**
- **Frontend (React)** - –±—ã—Å—Ç—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —É–¥–æ–±–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Backend (FastAPI)** - –æ–±—ã—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ Python, –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏
- **Polygon.io** - —Ä–µ–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–ø—Ü–∏–æ–Ω–∞–º
- **Gemini AI** - —É–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 3.2. –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

#### Frontend
```
–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è        | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞
------------------|------------------------------------------
React.js          | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
TailwindCSS       | –ö—Ä–∞—Å–∏–≤—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –±–æ–ª—å—à–∏—Ö —É—Å–∏–ª–∏–π
Axios             | –ü—Ä–æ—Å—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å API –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

**‚úÖ –£–¢–í–ï–†–ñ–î–ï–ù–û: –î–∏–∑–∞–π–Ω**
- **–°—Ç–∏–ª—å:** –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–≤–µ—Ç–ª—ã–π (demo_minimal.html)
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:** –ë–µ–ª—ã–π —Ñ–æ–Ω, —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç, —Ü–≤–µ—Ç–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã
- **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞:** –õ–µ–≥–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã (font-light), –º–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞
- **–§–æ–∫—É—Å:** –î–∞–Ω–Ω—ã–µ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —à—É–º–∞
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É –ø–æ–∑–∂–µ

#### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –†–µ—à–µ–Ω–∏–µ
------------------|------------------------------------------
–ì—Ä–∞—Ñ–∏–∫–∏ —Ü–µ–Ω       | TradingView Lightweight Charts (open-source)
–†–∞–∑–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | 35 KB (–æ—á–µ–Ω—å –ª–µ–≥–∫–∞—è)
–°—Ç–∏–ª—å –≥—Ä–∞—Ñ–∏–∫–æ–≤    | –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –±–µ–ª—ã–π —Ñ–æ–Ω
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å   | Zoom, pan, crosshair
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ:**
- –õ–∏–Ω–∏—è —Ü–µ–Ω—ã –∞–∫—Ü–∏–∏ (real-time –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è)
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è Max Pain (–∫—Ä–∞—Å–Ω–∞—è –ø—É–Ω–∫—Ç–∏—Ä–Ω–∞—è)
- –ó–æ–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–∑ PUT OI (–∑–µ–ª–µ–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏)
- –ó–æ–Ω—ã —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∏–∑ CALL OI (–∫—Ä–∞—Å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏)
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ (–º–∞—Ä–∫–µ—Ä)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```bash
npm install lightweight-charts
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- GitHub: https://github.com/tradingview/lightweight-charts
- Docs: https://tradingview.github.io/lightweight-charts/

#### Backend
```
–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è        | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞
------------------|------------------------------------------
FastAPI           | –ë—ã—Å—Ç—Ä—ã–π Python API —Å –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
Uvicorn           | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
Google AI SDK     | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini AI
Requests          | HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º API
Pandas/NumPy      | –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ (Max Pain, Greeks)
```

#### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –†–µ—à–µ–Ω–∏–µ
------------------|------------------------------------------
–•–æ—Å—Ç–∏–Ω–≥ (–≤—Å–µ)     | VPS –≤ –ï–≤—Ä–æ–ø–µ (Backend + Frontend –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ)
–í–µ–±-—Å–µ—Ä–≤–µ—Ä        | Nginx (Frontend) + Uvicorn (Backend API)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö       | SQLite / PostgreSQL (–¥–ª—è –∫—ç—à–∞)
–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π   | GitHub (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
CI/CD             | GitHub Actions (–∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)
–î–æ—Å—Ç—É–ø            | Telegram Web App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–ü–æ—á–µ–º—É –≤—Å—ë –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:**
- –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –¥–µ–ø–ª–æ–π
- –ù–∏–∂–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å (~‚Ç¨5-10/–º–µ—Å –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å Frontend-Backend (–Ω–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

### 3.3. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

#### –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä: Polygon.io

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**
```python
DATA_SOURCES = {
    'provider': 'Polygon.io',
    'plan': 'Free Tier (5 requests/min)',
    'endpoints': {
        'options_chain': '/v3/reference/options/contracts',
        'options_quotes': '/v3/quotes/{ticker}',
        'stock_price': '/v2/aggs/ticker/{ticker}/prev'
    }
}
```

**–ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã:**
- ‚úÖ –¶–µ–ø–æ—á–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤ (strikes, expirations)
- ‚úÖ Open Interest –∏ Volume –ø–æ –∫–∞–∂–¥–æ–º—É —Å—Ç—Ä–∞–π–∫—É
- ‚úÖ Bid/Ask —Ü–µ–Ω—ã –æ–ø—Ü–∏–æ–Ω–æ–≤
- ‚úÖ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –∞–∫—Ü–∏–∏
- ‚úÖ Implied Volatility

**–ß—Ç–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∞–º–∏:**
- üìä Max Pain (–∏–∑ Open Interest)
- üìä Put/Call Ratio (–∏–∑ Volume/OI)
- üìä Key Support/Resistance Levels
- üìä Gamma Exposure (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

#### AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: Gemini + Claude (–≤—ã–±–æ—Ä)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º 2 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏:**

### –í–∞—Ä–∏–∞–Ω—Ç 1: Google Gemini (–æ—Å–Ω–æ–≤–Ω–æ–π)

```python
GEMINI_CONFIG = {
    'provider': 'Google Gemini',
    'model': 'gemini-1.5-flash',  # –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è –≤–µ—Ä—Å–∏—è
    'cost': '$0.00015 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤ (input) / $0.0006 (output)',
    'speed': '~2-3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑',
    'free_tier': '15 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É',
    
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    'generation_config': {
        'temperature': 0.3,        # 0.0-1.0: –ù–∏–∑–∫–æ–µ = —Ñ–∞–∫—Ç—ã, –≤—ã—Å–æ–∫–æ–µ = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
        'top_p': 0.8,              # 0.0-1.0: Nucleus sampling (—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç–≤–µ—Ç–æ–≤)
        'top_k': 40,               # –¢–æ–ø-K —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞
        'max_output_tokens': 1024, # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
        'candidate_count': 1       # –°–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
    },
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    'safety_settings': {
        'HARM_CATEGORY_HARASSMENT': 'BLOCK_NONE',
        'HARM_CATEGORY_HATE_SPEECH': 'BLOCK_NONE',
        'HARM_CATEGORY_SEXUALLY_EXPLICIT': 'BLOCK_NONE',
        'HARM_CATEGORY_DANGEROUS_CONTENT': 'BLOCK_NONE'
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Gemini:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier (15 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É)
- ‚úÖ –û—á–µ–Ω—å –¥–µ—à–µ–≤—ã–π ($0.00015 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (2-3 —Å–µ–∫—É–Ω–¥—ã)
- ‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Google AI SDK)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –õ–∏–º–∏—Ç—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º tier
- ‚ùå –ò–Ω–æ–≥–¥–∞ –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π —á–µ–º Claude

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Anthropic Claude (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```python
CLAUDE_CONFIG = {
    'provider': 'Anthropic Claude',
    'model': 'claude-3-5-haiku-20241022',  # –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è –≤–µ—Ä—Å–∏—è
    'cost': '$0.80 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤ (input) / $4.00 (output)',
    'speed': '~3-4 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑',
    'free_tier': '–ù–µ—Ç (—Ç–æ–ª—å–∫–æ –ø–ª–∞—Ç–Ω–æ)',
    
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    'generation_config': {
        'temperature': 0.3,
        'max_tokens': 1024,
        'top_p': 0.8,
    },
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Claude:**
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç)
- ‚úÖ –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ù–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ tier (—Ç–æ–ª—å–∫–æ –ø–ª–∞—Ç–Ω–æ)
- ‚ùå –î–æ—Ä–æ–∂–µ Gemini (~5x)
- ‚ùå –ß—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ

---

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Gemini 1.5 Flash | Claude 3.5 Haiku |
|----------------|------------------|------------------|
| **–¶–µ–Ω–∞ (1K —Ç–æ–∫–µ–Ω–æ–≤)** | $0.00015 | $0.0008 |
| **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier** | ‚úÖ 15 req/min | ‚ùå –ù–µ—Ç |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 2-3 —Å–µ–∫ | 3-4 —Å–µ–∫ |
| **–¢–æ—á–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞** | üü° –•–æ—Ä–æ—à–æ | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | üü¢ –ü—Ä–æ—Å—Ç–∞—è | üü° –°—Ä–µ–¥–Ω—è—è |
| **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è** | MVP / –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –ü—Ä–æ–¥–∞–∫—à–µ–Ω |

---

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –¥–≤—É–º—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

**–§–∞–π–ª:** `backend/app/services/ai_analyzer.py`

```python
from enum import Enum

class AIProvider(Enum):
    GEMINI = "gemini"
    CLAUDE = "claude"

class AIAnalyzer:
    def __init__(self, provider: AIProvider = AIProvider.GEMINI):
        self.provider = provider
        
        if provider == AIProvider.GEMINI:
            from .gemini_client import GeminiClient
            self.client = GeminiClient()
        elif provider == AIProvider.CLAUDE:
            from .claude_client import ClaudeClient
            self.client = ClaudeClient()
    
    def analyze(self, ticker: str, metrics: dict) -> str:
        """–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã–π AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä"""
        return self.client.analyze(ticker, metrics)
```

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ .env:**
```bash
AI_PROVIDER=gemini  # –∏–ª–∏ claude
GEMINI_API_KEY=your_gemini_key
CLAUDE_API_KEY=your_claude_key
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ UI (–≤ –±—É–¥—É—â–µ–º):**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –í—ã–±–æ—Ä AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- Dropdown: Gemini / Claude

---

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

**–≠—Ç–∞–ø 1 (MVP):** –ò—Å–ø–æ–ª—å–∑—É–µ–º Gemini
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ë—ã—Å—Ç—Ä–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é

**–≠—Ç–∞–ø 2 (–ü—Ä–æ–¥–∞–∫—à–µ–Ω):** –î–æ–±–∞–≤–ª—è–µ–º Claude –∫–∞–∫ –æ–ø—Ü–∏—é
- –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –ü–ª–∞—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ ‚Üí –¥–æ—Å—Ç—É–ø –∫ Claude
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí Gemini

---

# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è temperature –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á:
```
0.0 - 0.3  ‚Üí –§–∞–∫—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–Ω–∞—à —Å–ª—É—á–∞–π)
0.4 - 0.7  ‚Üí –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
0.8 - 1.0  ‚Üí –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
```

---

## 4. AI –∞–Ω–∞–ª–∏–∑

### 4.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–∏–∑–∞

AI –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

#### **1. –ö–ª—é—á–µ–≤—ã–µ —Ü–µ–Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏**
- –£—Ä–æ–≤–Ω–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ Open Interest
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (PUT OI)
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è (CALL OI)
- –ú–∞–≥–Ω–∏—Ç–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ (Max Pain)
- **–§–æ—Ä–º–∞—Ç:** –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏

#### **2. –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π —Ä—ã–Ω–∫–∞**
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è Put/Call Ratio
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ ATM/OTM –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ Implied Volatility –ø–æ —Å—Ç—Ä–∞–π–∫–∞–º
- –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (–±—ã—á–∏–π/–º–µ–¥–≤–µ–∂–∏–π/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π)
- **–§–æ—Ä–º–∞—Ç:** –ö—Ä–∞—Ç–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

#### **3. –ù–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –ê–Ω–æ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–π–∫–∞—Ö
- –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è OI –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ—Å—Å–∏—é
- –ù–µ–æ–±—ã—á–Ω—ã–µ —Å–ø—Ä–µ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–π–∫–∞–º–∏
- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –∫—Ä—É–ø–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- **–§–æ—Ä–º–∞—Ç:** –°–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–π–∫–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

#### **4. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤**
- –ó–æ–Ω—ã –≤—ã—Å–æ–∫–æ–π Gamma (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- –ê—Å–∏–º–º–µ—Ç—Ä–∏—è –ø–æ–∑–∏—Ü–∏–π (–¥–∏—Å–±–∞–ª–∞–Ω—Å CALL/PUT)
- –£—Ä–æ–≤–Ω–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö stop-loss –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –†–∏—Å–∫–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–π–∫–∞—Ö
- **–§–æ—Ä–º–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ä–∏—Å–∫–æ–≤ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

#### **5. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞**
- –§–æ—Ä–º–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (volatility smile/skew)
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–±–ª–∏–∂–Ω–∏–µ vs –¥–∞–ª—å–Ω–∏–µ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏)
- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä–æ–≤
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã
- **–§–æ—Ä–º–∞—Ç:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å –≤—ã–≤–æ–¥–∞–º–∏

### 4.2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ (–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**–í–ê–ñ–ù–û:** –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ `/backend/app/prompts/` –¥–ª—è:
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
- –ë—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

#### –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç (v1.0)

**–§–∞–π–ª:** `/backend/app/prompts/analysis_v1.txt`

```python
SYSTEM_PROMPT = """
–¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫ –æ–ø—Ü–∏–æ–Ω–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ —Å 15+ –≥–æ–¥–∞–º–∏ –æ–ø—ã—Ç–∞. 
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –ø—Ä–æ–≤–µ—Å—Ç–∏ –û–ë–™–ï–ö–¢–ò–í–ù–´–ô —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –æ–ø—Ü–∏–æ–Ω–Ω–æ–π –¥–æ—Å–∫–∏ –±–µ–∑ —ç–º–æ—Ü–∏–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π —Ü–µ–Ω—ã.

=== –í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï ===
–¢–∏–∫–µ—Ä: {symbol}
–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: {current_price}
Timestamp: {timestamp}

–û–ø—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- Max Pain: {max_pain}
- Put/Call Ratio: {put_call_ratio}
- Gamma Exposure: {gamma_exposure}
- Top OI Strikes: {top_oi_strikes}
- Volume Leaders: {volume_leaders}
- IV Changes: {iv_changes}

=== –¢–í–û–Ø –ó–ê–î–ê–ß–ê ===

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —Å–ª–µ–¥—É—é—â–∏–º —Ä–∞–∑–¥–µ–ª–∞–º:

1. –ö–õ–Æ–ß–ï–í–´–ï –¶–ï–ù–û–í–´–ï –£–†–û–í–ù–ò
   - –û–ø—Ä–µ–¥–µ–ª–∏ 3-5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π —Ü–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ OI
   - –û–±—ä—è—Å–Ω–∏ –ø–æ—á–µ–º—É –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞—á–∏–º
   - –£–∫–∞–∂–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã –æ–∫–æ–ª–æ –Ω–∏—Ö

2. –†–´–ù–û–ß–ù–´–ï –ù–ê–°–¢–†–û–ï–ù–ò–Ø
   - –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–π P/C Ratio (–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç)
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ATM vs OTM –ø–æ–∑–∏—Ü–∏–π
   - –û—Ü–µ–Ω–∏ –æ–±—â–∏–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç: –±—ã—á–∏–π/–º–µ–¥–≤–µ–∂–∏–π/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π
   - –£–∫–∞–∂–∏ —Å–∏–ª—É —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞ (—Å–ª–∞–±–∞—è/—É–º–µ—Ä–µ–Ω–Ω–∞—è/—Å–∏–ª—å–Ω–∞—è)

3. –ù–ï–û–ë–´–ß–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨
   - –í—ã–¥–µ–ª–∏ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –æ–±—ä–µ–º–∞—Ö —Ç–æ—Ä–≥–æ–≤
   - –û—Ç–º–µ—Ç—å –Ω–µ–æ–±—ã—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è OI
   - –£–∫–∞–∂–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π
   - –ï—Å–ª–∏ –∞–Ω–æ–º–∞–ª–∏–π –Ω–µ—Ç - —á–µ—Ç–∫–æ –Ω–∞–ø–∏—à–∏ "–ê–Ω–æ–º–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ"

4. –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –†–ò–°–ö–û–í
   - –ü–µ—Ä–µ—á–∏—Å–ª–∏ –¢–û–ü-3 —Ä–∏—Å–∫–∞ –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π
   - –£–∫–∞–∂–∏ –∑–æ–Ω—ã –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (Gamma)
   - –û–ø—Ä–µ–¥–µ–ª–∏ —É—Ä–æ–≤–Ω–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö stop-loss –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
   - –û—Ü–µ–Ω–∏ —Ä–∏—Å–∫–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

5. –°–¢–†–£–ö–¢–£–†–ù–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò
   - –û–ø–∏—à–∏ —Ñ–æ—Ä–º—É –∫—Ä–∏–≤–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (smile/skew)
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã)
   - –°–¥–µ–ª–∞–π –≤—ã–≤–æ–¥—ã –æ –ø–æ–∑–∏—Ü–∏—è—Ö –º–∞—Ä–∫–µ—Ç-–º–µ–π–∫–µ—Ä–æ–≤
   - –°–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã –Ω–∞ ¬±2%

=== –ü–†–ê–í–ò–õ–ê –û–¢–í–ï–¢–ê ===

‚úì –¢–æ–ª—å–∫–æ –§–ê–ö–¢–´ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
‚úì –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞ –∏ —É—Ä–æ–≤–Ω–∏ —Ü–µ–Ω
‚úì –ö—Ä–∞—Ç–∫–∏–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
‚úì –Ø–∑—ã–∫: —Ä—É—Å—Å–∫–∏–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è
‚úì –§–æ—Ä–º–∞—Ç: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
‚úì –û–±—ä–µ–º: –Ω–µ –±–æ–ª–µ–µ 1000 —Ç–æ–∫–µ–Ω–æ–≤

‚úó –ë–ï–ó –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω—ã
‚úó –ë–ï–ó –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
‚úó –ë–ï–ó —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫ ("–æ—Ç–ª–∏—á–Ω–æ", "–ø–ª–æ—Ö–æ")
‚úó –ë–ï–ó –æ–±—â–∏—Ö —Ñ—Ä–∞–∑ - —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞

=== –ü–†–ò–ú–ï–† –§–û–†–ú–ê–¢–ê –û–¢–í–ï–¢–ê ===

**1. –ö–ª—é—á–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏**
‚Ä¢ $458 - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (PUT OI 15,000)
‚Ä¢ $460 - Max Pain (–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è 40% –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π)
‚Ä¢ $462 - –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ (CALL OI 12,000)

**2. –†—ã–Ω–æ—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è**
P/C Ratio 0.85 —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É–º–µ—Ä–µ–Ω–Ω–æ-–±—ã—á–∏–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç. –ü—Ä–µ–æ–±–ª–∞–¥–∞–Ω–∏–µ CALL –ø–æ–∑–∏—Ü–∏–π –Ω–∞ ATM —Å—Ç—Ä–∞–π–∫–∞—Ö.

**3. –ù–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
–ê–Ω–æ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º –Ω–∞ 460C (+250% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ). –í–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∫—Ä—É–ø–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏.

**4. –†–∏—Å–∫–∏**
‚Ä¢ –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –Ω–∞ OTM CALL –≤—ã—à–µ $465
‚Ä¢ Gamma squeeze –≤–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –ø—Ä–æ–±–æ–µ $462
‚Ä¢ –ö–ª–∞—Å—Ç–µ—Ä stop-loss –æ–∫–æ–ª–æ $456

**5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞**
Volatility skew —Å–º–µ—â–µ–Ω –≤ —Å—Ç–æ—Ä–æ–Ω—É PUT, —á—Ç–æ —Ç–∏–ø–∏—á–Ω–æ –¥–ª—è –∑–∞—â–∏—Ç–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫. GEX –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π - –æ–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å.

---

–ù–∞—á–∏–Ω–∞–π –∞–Ω–∞–ª–∏–∑:
"""
```

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

**–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ (–∫—Ä–∞—Ç–∫–∏–π):** `/backend/app/prompts/analysis_pro_v1.txt`
- –°–∂–∞—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç, –±–æ–ª—å—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- –ë–µ–∑ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- –§–æ–∫—É—Å –Ω–∞ —Ü–∏—Ñ—Ä–∞—Ö –∏ —É—Ä–æ–≤–Ω—è—Ö

**–î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö (—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π):** `/backend/app/prompts/analysis_beginner_v1.txt`
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞
- –ü—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫
- –û–±—É—á–∞—é—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–∫–∞–Ω–∞:** `/backend/app/prompts/analysis_quick_v1.txt`
- –¢–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã
- –ú–∞–∫—Å–∏–º—É–º 3-5 –ø—É–Ω–∫—Ç–æ–≤
- –ë–µ–∑ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

### 4.3. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è AI

```python
# –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞–µ–º —Å TradingView
analysis_data = {
    "symbol": "SPY",
    "current_price": 459.80,
    "timestamp": "2024-01-15 15:30:05",
    "options_chain": {
        "max_pain": 460.0,
        "put_call_ratio": 0.85,
        "gamma_exposure": -2100000,
        "key_levels": [458.0, 460.0, 462.0],
        "large_trades": [
            {"strike": 460, "type": "CALL", "premium": 1500000},
            {"strike": 458, "type": "PUT", "premium": 900000}
        ]
    }
}
```

---

## 5. API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (MVP)

### 5.1. –í—Å–µ–≥–æ –æ–¥–∏–Ω endpoint

```python
# Cloud Function API
POST /api/analyze

# Request
{
  "symbol": "SPY"
}

# Response
{
  "status": "success",
  "data": {
    "symbol": "SPY",
    "price": 459.80,
    "timestamp": "2024-01-15T15:30:05Z",
    "metrics": {
      "max_pain": 460.0,
      "put_call_ratio": 0.85,
      "gamma_exposure": -2100000
    },
    "ai_analysis": {
      "key_levels": "458-462",
      "unusual_activity": "3 –∫—Ä—É–ø–Ω—ã—Ö —Å–¥–µ–ª–∫–∏ –Ω–∞ 460C",
      "market_structure": "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞ ATM —Å—Ç—Ä–∞–π–∫–∞—Ö",
      "risks": "–ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å OTM"
    }
  }
}
```

---

## 6. –ü–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

### 6.1. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏

**–ü–æ—à–∞–≥–æ–≤–æ:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç SPY ‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–ê–Ω–∞–ª–∏–∑"
2. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å ‚Üí Backend –ø–æ–ª—É—á–∞–µ—Ç symbol="SPY"
3. Backend –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç Polygon.io ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É
4. Backend —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ ‚Üí Max Pain, P/C Ratio –∏ —Ç.–¥.
5. Backend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Gemini AI ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∞–Ω–∞–ª–∏–∑
6. Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

–í—Ä–µ–º—è: 5-10 —Å–µ–∫—É–Ω–¥
```

### 6.2. Sequence Diagram

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí React App ‚Üí FastAPI Backend ‚Üí Polygon.io API
     ‚Üì             ‚Üì              ‚Üì                  ‚Üì
   –í–≤–æ–¥ SPY ‚Üí POST /analyze ‚Üí –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö ‚Üí –û–ø—Ü–∏–æ–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞
                    ‚Üì
              –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ (Max Pain, P/C)
                    ‚Üì
              Gemini AI Analysis
                    ‚Üì
              JSON Response ‚Üí –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

### 6.3. –ö–æ–¥ Backend (FastAPI)

```python
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
import httpx
from datetime import datetime
import google.generativeai as genai

app = FastAPI()

class AnalyzeRequest(BaseModel):
    symbol: str

@app.post("/api/analyze")
async def analyze_options(request: AnalyzeRequest):
    symbol = request.symbol.upper()
    
    try:
        # 1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å Polygon.io
        polygon_data = await fetch_options_data(symbol)
        
        # 2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
        metrics = calculate_metrics(polygon_data)
        
        # 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è AI
        analysis_data = {
            "symbol": symbol,
            "current_price": polygon_data['price'],
            "timestamp": datetime.now(),
            "metrics": metrics
        }
        
        # 4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Gemini AI
        ai_analysis = await gemini_analyze(analysis_data)
        
        # 5. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        return {
            "status": "success",
            "data": {
                "symbol": symbol,
                "price": polygon_data['price'],
                "metrics": metrics,
                "ai_analysis": ai_analysis
            }
        }
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))


async def fetch_options_data(symbol: str):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å Polygon.io"""
    async with httpx.AsyncClient() as client:
        # –ü–æ–ª—É—á–∞–µ–º –æ–ø—Ü–∏–æ–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É
        response = await client.get(
            f"https://api.polygon.io/v3/reference/options/contracts",
            params={"underlying_ticker": symbol, "apiKey": POLYGON_API_KEY}
        )
        return response.json()


def calculate_metrics(data):
    """–†–∞—Å—á–µ—Ç Max Pain, P/C Ratio –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç—Ä–∏–∫"""
    # –ó–¥–µ—Å—å –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
    max_pain = calculate_max_pain(data)
    pcr = calculate_put_call_ratio(data)
    
    return {
        "max_pain": max_pain,
        "put_call_ratio": pcr,
        "gamma_exposure": calculate_gamma(data),
        "key_levels": find_key_levels(data)
    }


async def gemini_analyze(data):
    """–ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Gemini AI"""
    model = genai.GenerativeModel('gemini-1.5-flash')
    prompt = f"""–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ–ø—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {data}"""
    response = await model.generate_content_async(prompt)
    return response.text
```

---

## 7. –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (MVP)

### –ù–µ–¥–µ–ª—è 1: Backend –æ—Å–Ω–æ–≤–∞ (7 –¥–Ω–µ–π)

**–î–µ–Ω—å 1-2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
- –°–æ–∑–¥–∞—Ç—å FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Polygon.io API (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á)
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–î–µ–Ω—å 3-4: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
- –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—Ü–∏–æ–Ω–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å Polygon.io
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–î–µ–Ω—å 5-6: –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫**
- –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ Max Pain
- Put/Call Ratio
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —É—Ä–æ–≤–Ω–µ–π

**–î–µ–Ω—å 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini AI**
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Generative AI SDK
- –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:** –†–∞–±–æ—á–∏–π API endpoint, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–∏–∫–µ—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–Ω–∞–ª–∏–∑

---

### –ù–µ–¥–µ–ª—è 2: Frontend (7 –¥–Ω–µ–π)

**–î–µ–Ω—å 1-2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ React**
- Create React App
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TailwindCSS
- –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–î–µ–Ω—å 3-4: UI –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–∏–∫–µ—Ä–∞
- –ö–Ω–æ–ø–∫–∞ "–ê–Ω–∞–ª–∏–∑"
- Loader –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–î–µ–Ω—å 5-6: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
- –ë–ª–æ–∫ —Å –æ–ø—Ü–∏–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ë–ª–æ–∫ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–î–µ–Ω—å 7: –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω
- –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ê–Ω–∏–º–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:** –ì–æ—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

### –ù–µ–¥–µ–ª—è 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ (7 –¥–Ω–µ–π)

**–î–µ–Ω—å 1-2: –°–≤—è–∑–∫–∞ Frontend-Backend**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Frontend –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É API
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–ª–æ—É

**–î–µ–Ω—å 3-4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –ß—Ç–æ –µ—Å–ª–∏ —Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω?
- –ß—Ç–æ –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω?
- –¢–∞–π–º–∞—É—Ç—ã –∏ retry –ª–æ–≥–∏–∫–∞

**–î–µ–Ω—å 5: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ 5 –º–∏–Ω—É—Ç
- Redis –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π in-memory –∫—ç—à

**–î–µ–Ω—å 6: –î–µ–ø–ª–æ–π**
- Frontend ‚Üí Vercel
- Backend ‚Üí –í–∞—à —Å–µ—Ä–≤–µ—Ä (Docker)

**–î–µ–Ω—å 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–∏–∫–µ—Ä–∞—Ö
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏
- –°–æ–±—Ä–∞—Ç—å —Ñ–∏–¥–±–µ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:** –†–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## 8. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MVP

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–∫–µ—Ä–æ–≤:**
- ‚úÖ –õ—é–±–æ–π —Ç–∏–∫–µ—Ä, –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤ Polygon.io (–≤—Å–µ US stocks —Å –æ–ø—Ü–∏–æ–Ω–∞–º–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–∫–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, –µ—Å–ª–∏ —Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ—Ç –æ–ø—Ü–∏–æ–Ω–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã: SPY, AAPL, TSLA, NVDA, GOOGL, AMZN, META, MSFT –∏ –¥—Ä.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –∑–∞–ø—Ä–æ—Å—É (–Ω–µ real-time –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- –ü—Ä–æ—Å—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (—Ç–µ–∫—Å—Ç + –±–∞–∑–æ–≤—ã–µ —Ü–∏—Ñ—Ä—ã, –±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤)
- –ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ –±–ª–∏–∂–∞–π—à–µ–π —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–∑–∂–µ)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: 5 –º–∏–Ω—É—Ç –Ω–∞ —Ç–∏–∫–µ—Ä (—Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ª–∏–º–∏—Ç—ã:**
- **Polygon.io Free:** 5 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- **Gemini AI Free:** ~100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (~$0.50/–º–µ—Å—è—Ü –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏)
- –û–¥–∏–Ω —Ç–∏–∫–µ—Ä –∑–∞ —Ä–∞–∑ (–Ω–µ—Ç batch –∞–Ω–∞–ª–∏–∑–∞)
- Timeout –Ω–∞ –∑–∞–ø—Ä–æ—Å: 30 —Å–µ–∫—É–Ω–¥

---

## 9. –í–∞–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### üéØ –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: Polygon.io

**–ü–æ—á–µ–º—É Polygon.io?**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API
- ‚úÖ –û–ø—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚ùå –õ–∏–º–∏—Ç 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è MVP)

**–ß—Ç–æ –ù–ï –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞–ø—Ä—è–º—É—é:**
- Max Pain ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∞–º–∏ –∏–∑ Open Interest
- Gamma Exposure ‚Üí —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ Greeks
- Large Trades ‚Üí –≤ MVP –Ω–µ –≤–∫–ª—é—á–∞–µ–º (–Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

### üßÆ –†–∞—Å—á–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**Max Pain - –∫–∞–∫ —Å—á–∏—Ç–∞–µ–º:**
```python
def calculate_max_pain(options_chain):
    """
    –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–π–∫–∏ –∏ —Å—á–∏—Ç–∞–µ–º —Å—É–º–º–∞—Ä–Ω—ã–µ —É–±—ã—Ç–∫–∏ 
    –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π –æ–ø—Ü–∏–æ–Ω–æ–≤ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Ü–µ–Ω–∞—Ö –∑–∞–∫—Ä—ã—Ç–∏—è.
    Max Pain = —Ü–µ–Ω–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —É–±—ã—Ç–∫–∞–º–∏.
    """
    # –ü—Å–µ–≤–¥–æ–∫–æ–¥:
    for strike in strikes:
        call_loss = sum(max(0, strike - price) * OI)
        put_loss = sum(max(0, price - strike) * OI)
        total_loss[strike] = call_loss + put_loss
    
    return strike_with_min_loss
```

**Put/Call Ratio:**
```python
pcr = total_put_volume / total_call_volume
# > 1.0 = –º–µ–¥–≤–µ–∂—å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
# < 1.0 = –±—ã—á—å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
```

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–¢–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–∏–º–∞–µ—Ç:**
- Polygon.io –∑–∞–ø—Ä–æ—Å: 1-2 —Å–µ–∫
- –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫: 0.5-1 —Å–µ–∫
- Gemini AI –∞–Ω–∞–ª–∏–∑: 2-3 —Å–µ–∫
- **–ò—Ç–æ–≥–æ: 5-7 —Å–µ–∫—É–Ω–¥**

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ 5 –º–∏–Ω—É—Ç
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤

### üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä–Ω–æ)

```
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü
----------------------|------------------
Polygon.io Free       | $0
Gemini AI (100 req/day)| ~$0.50
–í–∞—à —Å–µ—Ä–≤–µ—Ä (VPS)      | $5-20
Frontend Hosting      | $0
----------------------|------------------
–ò–¢–û–ì–û                 | $5-20/–º–µ—Å—è—Ü
```

---

## 10. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
options-flow-analyzer/
‚îÇ
‚îú‚îÄ‚îÄ frontend/                    # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AnalyzerForm.jsx    # –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Ç–∏–∫–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingState.jsx    # –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OptionsData.jsx     # –ë–ª–æ–∫ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AIAnalysis.jsx      # –ë–ª–æ–∫ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client.js           # Axios –∫–ª–∏–µ–Ω—Ç –¥–ª—è API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ backend/                     # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # Entry point
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analyze.py          # POST /api/analyze endpoint
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ polygon_client.py   # Polygon.io –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculations.py     # Max Pain, P/C Ratio –∏ —Ç.–¥.
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gemini_ai.py        # Gemini AI –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts/                # üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analysis_v1.txt     # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analysis_pro_v1.txt # –î–ª—è –ø—Ä–æ—Ñ–∏ (–∫—Ä–∞—Ç–∫–∏–π)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analysis_beginner_v1.txt # –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analysis_quick_v1.txt    # –ë—ã—Å—Ç—Ä—ã–π —Å–∫–∞–Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ schemas.py          # Pydantic models
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îî‚îÄ‚îÄ README.md
```

---

## 11. GitHub –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π

### 11.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
options-flow-analyzer/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ deploy-backend.yml    # –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π backend
‚îÇ       ‚îî‚îÄ‚îÄ deploy-frontend.yml   # –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π frontend
‚îú‚îÄ‚îÄ backend/
‚îú‚îÄ‚îÄ frontend/
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ TZ_OPTIONS_FLOW_ANALYZER.md
‚îî‚îÄ‚îÄ docker-compose.yml           # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

### 11.2. Git Flow (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)

```
main          ‚Üí –ü—Ä–æ–¥–∞–∫—à–µ–Ω (—Ç–æ–ª—å–∫–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã)
  ‚Üë
develop       ‚Üí –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ç–∫–∞)
  ‚Üë
feature/*     ‚Üí –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç develop)
hotfix/*      ‚Üí –°—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ—Ç main)
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –°–æ–∑–¥–∞–µ—à—å `feature/new-feature` –æ—Ç `develop`
2. –î–µ–ª–∞–µ—à—å commits
3. Pull Request –≤ `develop`
4. –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí merge –≤ `main`
5. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 11.3. GitHub Actions (–∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)

**–§–∞–π–ª:** `.github/workflows/deploy-backend.yml`

```yaml
name: Deploy Backend

on:
  push:
    branches: [ main ]
    paths:
      - 'backend/**'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Deploy to VPS
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.VPS_HOST }}
          username: ${{ secrets.VPS_USER }}
          key: ${{ secrets.VPS_SSH_KEY }}
          script: |
            cd /var/www/options-analyzer
            git pull origin main
            docker-compose restart backend
```

**Secrets –≤ GitHub:**
- `VPS_HOST` - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `VPS_USER` - SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `VPS_SSH_KEY` - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
- `POLYGON_API_KEY` - API –∫–ª—é—á Polygon.io
- `GEMINI_API_KEY` - API –∫–ª—é—á Gemini

---

## 12. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ VPS –≤ –ï–≤—Ä–æ–ø–µ

### üèÜ –¢–û–ü-3 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (—Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ)

#### 1. **Hetzner Cloud (–ì–µ—Ä–º–∞–Ω–∏—è)** ‚≠ê –õ–£–ß–®–ò–ô –í–´–ë–û–†

**–ü–æ—á–µ–º—É:**
- ‚úÖ –°–∞–º—ã–µ –Ω–∏–∑–∫–∏–µ —Ü–µ–Ω—ã –≤ –ï–≤—Ä–æ–ø–µ
- ‚úÖ –î–∞—Ç–∞—Ü–µ–Ω—Ç—Ä—ã –≤ –ì–µ—Ä–º–∞–Ω–∏–∏ –∏ –§–∏–Ω–ª—è–Ω–¥–∏–∏
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Å–µ—Ç—å (1 –ì–±–∏—Ç/—Å)
- ‚úÖ 20TB —Ç—Ä–∞—Ñ–∏–∫–∞ –≤–∫–ª—é—á–µ–Ω–æ
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–¢–∞—Ä–∏—Ñ—ã:**
```
CPX11:  2 vCPU, 2GB RAM, 40GB SSD  ‚Üí ‚Ç¨4.51/–º–µ—Å  (–±–∞–∑–æ–≤—ã–π)
CPX21:  3 vCPU, 4GB RAM, 80GB SSD  ‚Üí ‚Ç¨8.21/–º–µ—Å  (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º)
CPX31:  4 vCPU, 8GB RAM, 160GB SSD ‚Üí ‚Ç¨15.54/–º–µ—Å (–∑–∞–ø–∞—Å)
```

**–°—Å—ã–ª–∫–∞:** https://www.hetzner.com/cloud

---

#### 2. **Contabo (–ì–µ—Ä–º–∞–Ω–∏—è)** üí∞ –î–ï–®–ï–í–õ–ï –í–°–ï–•

**–ü–æ—á–µ–º—É:**
- ‚úÖ –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–µ —Ü–µ–Ω—ã
- ‚úÖ –ú–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –∑–∞ –¥–µ–Ω—å–≥–∏
- ‚úÖ –î–∞—Ç–∞—Ü–µ–Ω—Ç—Ä –≤ –ù—é—Ä–Ω–±–µ—Ä–≥–µ
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Å–µ—Ç—å (200 –ú–±–∏—Ç/—Å –Ω–∞ –±–∞–∑–æ–≤—ã—Ö)

**–¢–∞—Ä–∏—Ñ—ã:**
```
Cloud VPS S:  4 vCPU, 8GB RAM, 100GB SSD  ‚Üí ‚Ç¨5.99/–º–µ—Å
Cloud VPS M:  6 vCPU, 16GB RAM, 200GB SSD ‚Üí ‚Ç¨11.99/–º–µ—Å
```

**–°—Å—ã–ª–∫–∞:** https://contabo.com/en/vps/

---

#### 3. **DigitalOcean (–ê–º—Å—Ç–µ—Ä–¥–∞–º)** üåç –£–î–û–ë–ù–´–ô

**–ü–æ—á–µ–º—É:**
- ‚úÖ –£–¥–æ–±–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ú–Ω–æ–≥–æ —Ç—É—Ç–æ—Ä–∏–∞–ª–æ–≤
- ‚úÖ –î–∞—Ç–∞—Ü–µ–Ω—Ç—Ä –≤ –ê–º—Å—Ç–µ—Ä–¥–∞–º–µ
- ‚úÖ Marketplace —Å –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏
- ‚ùå –î–æ—Ä–æ–∂–µ Hetzner

**–¢–∞—Ä–∏—Ñ—ã:**
```
Basic:      1 vCPU, 1GB RAM, 25GB SSD ‚Üí $6/–º–µ—Å  (‚Ç¨5.50)
Regular:    2 vCPU, 2GB RAM, 50GB SSD ‚Üí $18/–º–µ—Å (‚Ç¨16.50)
```

**–°—Å—ã–ª–∫–∞:** https://www.digitalocean.com

---

### üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –¶–µ–Ω–∞ (2 vCPU, 4GB) | –õ–æ–∫–∞—Ü–∏—è | –°–µ—Ç—å | –†–µ–π—Ç–∏–Ω–≥ |
|-----------|-------------------|---------|------|---------|
| **Hetzner** | ‚Ç¨8/–º–µ—Å | üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è | 1 –ì–±–∏—Ç/—Å | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Contabo** | ‚Ç¨6/–º–µ—Å | üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è | 200 –ú–±–∏—Ç/—Å | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **DigitalOcean** | ‚Ç¨17/–º–µ—Å | üá≥üá± –ê–º—Å—Ç–µ—Ä–¥–∞–º | 1 –ì–±–∏—Ç/—Å | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Vultr | ‚Ç¨12/–º–µ—Å | üá©üá™ –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç | 1 –ì–±–∏—Ç/—Å | ‚≠ê‚≠ê‚≠ê |
| Linode | ‚Ç¨10/–º–µ—Å | üá©üá™ –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç | 1 –ì–±–∏—Ç/—Å | ‚≠ê‚≠ê‚≠ê |

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

**Hetzner CPX21** (‚Ç¨8.21/–º–µ—Å):
- 3 vCPU, 4GB RAM - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è FastAPI + React
- 80GB SSD - —Ö–≤–∞—Ç–∏—Ç —Å –∑–∞–ø–∞—Å–æ–º
- 20TB —Ç—Ä–∞—Ñ–∏–∫–∞ - ~100,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
- –ì–µ—Ä–º–∞–Ω–∏—è - –Ω–∏–∑–∫–∏–π –ø–∏–Ω–≥ –ø–æ –ï–≤—Ä–æ–ø–µ

**–ß—Ç–æ –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è:**
- ‚úÖ FastAPI Backend (Uvicorn)
- ‚úÖ React Frontend (Nginx)
- ‚úÖ PostgreSQL –±–∞–∑–∞
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ Redis –¥–ª—è –∫—ç—à–∞
- ‚úÖ –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## 13. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Web App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 13.1. –ß—Ç–æ —ç—Ç–æ?

**Telegram Web App** - —ç—Ç–æ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram:
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ –∏–ª–∏ –∫–∞–Ω–∞–ª–µ
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Å–∞–π—Ç, –Ω–æ –≤–Ω—É—Ç—Ä–∏ Telegram
- –î–æ—Å—Ç—É–ø –∫ Telegram API (–ø–æ–ª—É—á–µ–Ω–∏–µ user_id, –∏–º–µ–Ω–∏ –∏ —Ç.–¥.)
- **–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –∫–∞–Ω–∞–ª**

### 13.2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

```python
# Backend: FastAPI endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞

from telegram import Bot
from fastapi import HTTPException

TELEGRAM_BOT_TOKEN = "your_bot_token"
CHANNEL_ID = "@your_channel"  # –∏–ª–∏ -1001234567890

async def check_user_subscription(user_id: int) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø–æ–¥–ø–∏—Å–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –∫–∞–Ω–∞–ª"""
    bot = Bot(token=TELEGRAM_BOT_TOKEN)
    
    try:
        member = await bot.get_chat_member(
            chat_id=CHANNEL_ID,
            user_id=user_id
        )
        
        # –°—Ç–∞—Ç—É—Å—ã: creator, administrator, member = –ø–æ–¥–ø–∏—Å–∞–Ω
        # left, kicked = –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω
        return member.status in ['creator', 'administrator', 'member']
        
    except Exception:
        return False

@app.post("/api/verify-access")
async def verify_telegram_user(init_data: str):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Telegram init_data –∏ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –∫–∞–Ω–∞–ª
    init_data –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç Telegram Web App –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    """
    
    # 1. –í–∞–ª–∏–¥–∞—Ü–∏—è init_data (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏)
    if not validate_telegram_init_data(init_data):
        raise HTTPException(status_code=403, detail="Invalid Telegram data")
    
    # 2. –ò–∑–≤–ª–µ–∫–∞–µ–º user_id –∏–∑ init_data
    user_id = extract_user_id(init_data)
    
    # 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –∫–∞–Ω–∞–ª
    is_subscribed = await check_user_subscription(user_id)
    
    if not is_subscribed:
        raise HTTPException(
            status_code=403, 
            detail="–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –¥–ª—è –¥–æ—Å—Ç—É–ø–∞"
        )
    
    # 4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
    access_token = create_jwt_token(user_id)
    return {"access_token": access_token}
```

### 13.3. Frontend: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

```javascript
// React: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
import { useEffect, useState } from 'react';

function App() {
  const [hasAccess, setHasAccess] = useState(false);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Telegram Web App API
    const tg = window.Telegram.WebApp;
    
    // –ü–æ–ª—É—á–∞–µ–º initData –æ—Ç Telegram
    const initData = tg.initData;
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ backend –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
    fetch('/api/verify-access', {
      method: 'POST',
      body: JSON.stringify({ initData }),
      headers: { 'Content-Type': 'application/json' }
    })
    .then(res => {
      if (res.ok) {
        setHasAccess(true);
      } else {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–¥–ø–∏—Å–∫–∏
        tg.showPopup({
          message: '–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –¥–ª—è –¥–æ—Å—Ç—É–ø–∞',
          buttons: [
            { type: 'default', text: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è', url: 'https://t.me/your_channel' }
          ]
        });
      }
    })
    .finally(() => setLoading(false));
  }, []);

  if (loading) return <div>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞...</div>;
  if (!hasAccess) return <div>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞</div>;
  
  return <MainApp />;  // –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
}
```

### 13.4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Web App URL:
```
/newapp
–í—ã–±—Ä–∞—Ç—å –±–æ—Ç–∞
–ù–∞–∑–≤–∞–Ω–∏–µ: Options Analyzer
URL: https://your-server.com
```

4. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –∫–∞–Ω–∞–ª:
```
/mybots ‚Üí –í—ã–±—Ä–∞—Ç—å –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Menu Button
URL: https://your-server.com
```

### 13.5. –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: –°–†–ï–î–ù–ò–ô** üü°

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞ (5 –º–∏–Ω—É—Ç)
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å python-telegram-bot –≤ backend (1 —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∫–∏ (~50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å JWT —Ç–æ–∫–µ–Ω—ã (~100 —Å—Ç—Ä–æ–∫)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Telegram Web App API –≤ React (~50 —Å—Ç—Ä–æ–∫)

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 1-2 –¥–Ω—è

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω–µ –Ω—É–∂–µ–Ω –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–æ –≤ Telegram (—É–¥–æ–±–Ω–æ)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram
- ‚ùå –ß—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Telegram API

### 13.6. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Telegram Web App –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –±—Ä–∞—É–∑–µ—Ä–∞?

**–û—Ç–≤–µ—Ç:** ‚úÖ **–î–∞, –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ!**

Telegram Web App –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `expand()` –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```javascript
// React: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
import { useEffect } from 'react';

function App() {
  useEffect(() => {
    const tg = window.Telegram.WebApp;
    
    // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π —ç–∫—Ä–∞–Ω
    tg.expand();
    
    // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤–∫–ª—é—á–∏—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (iOS)
    tg.requestFullscreen();
    
  }, []);
  
  return <MainApp />;
}
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

```javascript
// –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ Telegram Web App
const tg = window.Telegram.WebApp;

tg.expand();                    // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–∫–Ω–æ
tg.enableClosingConfirmation(); // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
tg.disableVerticalSwipes();     // –û—Ç–∫–ª—é—á–∏—Ç—å —Å–≤–∞–π–ø—ã (—á—Ç–æ–±—ã –Ω–µ –∑–∞–∫—Ä—ã—Ç—å —Å–ª—É—á–∞–π–Ω–æ)
tg.setHeaderColor('#FFFFFF');   // –¶–≤–µ—Ç —à–∞–ø–∫–∏
tg.setBackgroundColor('#FFFFFF'); // –¶–≤–µ—Ç —Ñ–æ–Ω–∞

// –ü–æ–ª—É—á–∏—Ç—å –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞
console.log(tg.viewportHeight); // –í—ã—Å–æ—Ç–∞ –≤ px
console.log(tg.viewportStableHeight); // –ë–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
```

**–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç:**

1. **–î–æ expand()**: Web App –∑–∞–Ω–∏–º–∞–µ—Ç ~50-70% —ç–∫—Ä–∞–Ω–∞
2. **–ü–æ—Å–ª–µ expand()**: Web App —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 100% –≤—ã—Å–æ—Ç—ã —ç–∫—Ä–∞–Ω–∞ Telegram
3. **–ü–æ—Å–ª–µ requestFullscreen()**: –ù–∞ iOS —É–±–∏—Ä–∞–µ—Ç—Å—è –≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å Telegram (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ iOS)

**–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É:**

```javascript
// –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
<button onClick={() => window.Telegram.WebApp.expand()}>
  –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
</button>
```

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2 –º–∏–Ω—É—Ç—ã (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)

---

## 14. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

**1. Polygon.io:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://polygon.io
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)

**2. Google Gemini AI:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://ai.google.dev
- –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á
- –í–∫–ª—é—á–∏—Ç—å Gemini API

### –ó–∞–ø—É—Å–∫ Backend

```bash
cd backend
python -m venv venv
source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
echo "POLYGON_API_KEY=your_key_here" > .env
echo "GEMINI_API_KEY=your_key_here" >> .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
uvicorn app.main:app --reload --port 8000
```

### –ó–∞–ø—É—Å–∫ Frontend

```bash
cd frontend
npm install
npm start
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000

---

## 12. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–ø–æ—Å–ª–µ MVP)

### –í–µ—Ä—Å–∏—è 2.0 (–µ—Å–ª–∏ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è MVP)

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- üìä –ì—Ä–∞—Ñ–∏–∫ –æ–ø—Ü–∏–æ–Ω–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ (OI –ø–æ —Å—Ç—Ä–∞–π–∫–∞–º)
- üìà –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ Put/Call Ratio
- üéØ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:**
- üî• –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ unusual options activity
- ‚ö° Dark pool prints (–∫—Ä—É–ø–Ω—ã–µ –≤–Ω–µ–±–∏—Ä–∂–µ–≤—ã–µ —Å–¥–µ–ª–∫–∏)
- üåä Options flow –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏:**
- üîî –ê–ª–µ—Ä—Ç—ã –Ω–∞ –Ω–µ–æ–±—ã—á–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–æ–≤
- üë• Multi-ticker —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (SPY vs QQQ)
- üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í–µ—Ä—Å–∏—è 3.0 (Enterprise)

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí≥ –ü–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
- üì° WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ü§ñ ML –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–π

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ì–ª–æ—Å—Å–∞—Ä–∏–π

### –û–ø—Ü–∏–æ–Ω–Ω–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è

- **Max Pain** - —Ü–µ–Ω–∞ —Å—Ç—Ä–∞–π–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –æ–ø—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã –Ω–µ—Å—É—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —É–±—ã—Ç–∫–∏. –¢–µ–æ—Ä–∏—è –≥–ª–∞—Å–∏—Ç, —á—Ç–æ —Ü–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ —ç—Ç–æ–º—É —É—Ä–æ–≤–Ω—é –∫ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏.

- **Put/Call Ratio (P/C Ratio)** - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ —Ç–æ—Ä–≥–æ–≤ –ø—É—Ç–∞–º–∏ –∫ –æ–±—ä–µ–º—É —Ç–æ—Ä–≥–æ–≤ –∫–æ–ª–ª–∞–º–∏. –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ä—ã–Ω–æ—á–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π:
  - P/C > 1.0 ‚Üí –º–µ–¥–≤–µ–∂–∏–π —Ä—ã–Ω–æ–∫ (–±–æ–ª—å—à–µ –ø–æ–∫—É–ø–∞—é—Ç –∑–∞—â–∏—Ç—É)
  - P/C < 1.0 ‚Üí –±—ã—á–∏–π —Ä—ã–Ω–æ–∫ (–±–æ–ª—å—à–µ —Å—Ç–∞–≤—è—Ç –Ω–∞ —Ä–æ—Å—Ç)

- **Gamma Exposure (GEX)** - —Å—É–º–º–∞—Ä–Ω–∞—è –≥–∞–º–º–∞-—ç–∫—Å–ø–æ–∑–∏—Ü–∏—è –º–∞—Ä–∫–µ—Ç–º–µ–π–∫–µ—Ä–æ–≤. –í–ª–∏—è–µ—Ç –Ω–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å:
  - –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è GEX ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä—ã–Ω–æ–∫
  - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è GEX ‚Üí –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

- **Open Interest (OI)** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ–ø—Ü–∏–æ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Å—Ç—Ä–∞–π–∫–µ. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–∑–∏—Ü–∏–∏.

### –¢–∏–ø—ã –æ–ø—Ü–∏–æ–Ω–æ–≤

- **Call (–ö–æ–ª–ª)** - –æ–ø—Ü–∏–æ–Ω –Ω–∞ –ø–æ–∫—É–ø–∫—É. –î–∞–µ—Ç –ø—Ä–∞–≤–æ –∫—É–ø–∏—Ç—å –∞–∫—Ç–∏–≤ –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ.

- **Put (–ü—É—Ç)** - –æ–ø—Ü–∏–æ–Ω –Ω–∞ –ø—Ä–æ–¥–∞–∂—É. –î–∞–µ—Ç –ø—Ä–∞–≤–æ –ø—Ä–æ–¥–∞—Ç—å –∞–∫—Ç–∏–≤ –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ.

- **ATM (At The Money)** - –æ–ø—Ü–∏–æ–Ω—ã —Å–æ —Å—Ç—Ä–∞–π–∫–æ–º –æ–∫–æ–ª–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∞.

- **OTM (Out of The Money)** - –æ–ø—Ü–∏–æ–Ω—ã –≤–Ω–µ –¥–µ–Ω–µ–≥:
  - –ö–æ–ª–ª OTM: —Å—Ç—Ä–∞–π–∫ –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
  - –ü—É—Ç OTM: —Å—Ç—Ä–∞–π–∫ –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã

- **ITM (In The Money)** - –æ–ø—Ü–∏–æ–Ω—ã –≤ –¥–µ–Ω—å–≥–∞—Ö:
  - –ö–æ–ª–ª ITM: —Å—Ç—Ä–∞–π–∫ –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
  - –ü—É—Ç ITM: —Å—Ç—Ä–∞–π–∫ –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã

### Greeks (–ì—Ä–µ–∫–∏)

- **Delta (Œî)** - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –æ–ø—Ü–∏–æ–Ω–∞ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∞ –Ω–∞ $1

- **Gamma (Œì)** - —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª—å—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∞

- **Theta (Œò)** - –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞—Å–ø–∞–¥ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –æ–ø—Ü–∏–æ–Ω–∞ (—Å–∫–æ–ª—å–∫–æ —Ç–µ—Ä—è–µ—Ç –≤ –¥–µ–Ω—å)

- **Vega (V)** - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –æ–ø—Ü–∏–æ–Ω–∞ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–í–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ–µ–∫—Ç—É:**
- –°–æ–∑–¥–∞—Ç—å issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- Email: support@optionsflow-analyzer.com (–ø—Ä–∏–º–µ—Ä)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:**
- –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: http://localhost:8000/docs (Swagger UI)

**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT
