# ‚ö° –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

**–î–∞—Ç–∞:** 12 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.0

---

## üìã –û–±–∑–æ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–ø—Ü–∏–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã:

1. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Lazy Loading)** - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
2. **Prefetch + Background Loading** - –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **Service Worker** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

---

## üéØ 1. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Lazy Loading)

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

**–≠—Ç–∞–ø 1: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–ù–∞–π—Ç–∏" ‚Üí –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–∞—Ç—ã —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏
‚è±Ô∏è ~1 —Å–µ–∫—É–Ω–¥–∞
```

**–≠—Ç–∞–ø 2: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –í—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—É ‚Üí –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–ø—Ü–∏–æ–Ω—ã –¥–ª—è —ç—Ç–æ–π –¥–∞—Ç—ã
‚è±Ô∏è ~2 —Å–µ–∫—É–Ω–¥—ã
```

**–≠—Ç–∞–ø 3: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –¥–∞—Ç–µ ‚Üí –î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞
‚è±Ô∏è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```javascript
// –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç
const fetchExpirations = async () => {
  const response = await axios.get(`/api/options/expirations?ticker=${ticker}`);
  setExpirations(response.data.expirations);
};

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤
const fetchOptionsForDate = async (date, type) => {
  const key = `${date}_${type}`;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
  if (allOptionsData[key]) {
    return; // –£–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
  }
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
  const response = await axios.get(
    `/api/options/chain?ticker=${ticker}&expiration_date=${date}`
  );
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
  setAllOptionsData(prev => ({
    ...prev,
    [key]: response.data.options
  }));
};
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã (~1 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 10-30 —Å–µ–∫)
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ –õ—É—á—à–∏–π UX

---

## üöÄ 2. Prefetch + Background Loading

### Prefetch –ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω—ã –¥–ª—è **–ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏** —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–∞—Ç.

**–ó–∞—á–µ–º?**
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—ã–±–∏—Ä–∞—é—Ç –±–ª–∏–∂–∞–π—à—É—é –¥–∞—Ç—É
- –î–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –¥–æ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Ö –∑–∞–ø—Ä–æ—Å–∏—Ç
- –°–æ–∑–¥–∞–µ—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```javascript
// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞—Ç
if (dates.length > 0) {
  const firstDate = dates[0];
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º Call –∏ Put –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  Promise.all([
    prefetchOptionsForDate(firstDate, 'call'),
    prefetchOptionsForDate(firstDate, 'put')
  ]);
}
```

### Background Loading —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∞—Ç:

–ó–∞–≥—Ä—É–∂–∞–µ—Ç **—Å–ª–µ–¥—É—é—â–∏–µ 2-3 –¥–∞—Ç—ã –≤ —Ñ–æ–Ω–µ** –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–ó–∞—á–µ–º?**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–∞—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –≤ —Ñ–æ–Ω–µ
- –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```javascript
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–µ 3 –¥–∞—Ç—ã —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
const backgroundDates = dates.slice(1, 4);

backgroundDates.forEach((date, index) => {
  setTimeout(() => {
    Promise.all([
      prefetchOptionsForDate(date, 'call'),
      prefetchOptionsForDate(date, 'put')
    ]);
  }, (index + 1) * 2000); // –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫ –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏
});
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏:

```
–í—Ä–µ–º—è ‚Üí

0s:  [–î–∞—Ç—ã —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏] ‚úÖ
1s:  [–ü–µ—Ä–≤–∞—è –¥–∞—Ç–∞ Call] ‚ö° Prefetch
1s:  [–ü–µ—Ä–≤–∞—è –¥–∞—Ç–∞ Put]  ‚ö° Prefetch
3s:  [–í—Ç–æ—Ä–∞—è –¥–∞—Ç–∞]      üîÑ Background
5s:  [–¢—Ä–µ—Ç—å—è –¥–∞—Ç–∞]      üîÑ Background
7s:  [–ß–µ—Ç–≤–µ—Ä—Ç–∞—è –¥–∞—Ç–∞]   üîÑ Background
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –¥–∞—Ç–∞–º
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏
- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
- ‚úÖ –£–º–Ω–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

---

## üíæ 3. Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß—Ç–æ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è:

**1. –î–∞—Ç—ã —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏**
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: **24 —á–∞—Å–∞**
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–µ–¥–∫–æ
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

**2. –û–ø—Ü–∏–æ–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏**
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: **1 —á–∞—Å**
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
- –ö—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞—Ç

**3. –¶–µ–Ω—ã –∞–∫—Ü–∏–π**
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏: **5 –º–∏–Ω—É—Ç**
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç–æ
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:

**Cache First —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏:**

```javascript
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à
   ‚îú‚îÄ –ï—Å—Ç—å –≤ –∫—ç—à–µ?
   ‚îÇ  ‚îú‚îÄ –°–≤–µ–∂–∏–π? ‚Üí –í–µ—Ä–Ω—É—Ç—å –∏–∑ –∫—ç—à–∞ ‚ö°
   ‚îÇ  ‚îî‚îÄ –£—Å—Ç–∞—Ä–µ–ª? ‚Üí –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
   ‚îî‚îÄ –ù–µ—Ç –≤ –∫—ç—à–µ? ‚Üí –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞

2. –ó–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
   ‚îú‚îÄ –£—Å–ø–µ—à–Ω–æ? ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à + –í–µ—Ä–Ω—É—Ç—å
   ‚îî‚îÄ –û—à–∏–±–∫–∞? ‚Üí –í–µ—Ä–Ω—É—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

### Offline —Ä–µ–∂–∏–º:

Service Worker –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞** —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä ‚Üí –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
                                      ‚Üì
                              Service Worker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à
                                      ‚Üì
                          –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                                      ‚Üì
                            –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ
```

### API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º:

```javascript
import { useServiceWorker } from '../hooks/useServiceWorker';

function MyComponent() {
  const { isRegistered, clearCache, getCacheSize } = useServiceWorker();
  
  // –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
  const handleClearCache = async () => {
    const success = await clearCache();
    console.log('–ö—ç—à –æ—á–∏—â–µ–Ω:', success);
  };
  
  // –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞
  const handleGetSize = async () => {
    const size = await getCacheSize();
    console.log('–†–∞–∑–º–µ—Ä –∫—ç—à–∞:', size, '–∑–∞–ø–∏—Å–µ–π');
  };
  
  return (
    <div>
      {isRegistered && <p>Service Worker –∞–∫—Ç–∏–≤–µ–Ω</p>}
      <button onClick={handleClearCache}>–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
      <button onClick={handleGetSize}>–†–∞–∑–º–µ—Ä –∫—ç—à–∞</button>
    </div>
  );
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –†–∞–±–æ—Ç–∞ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ Offline —Ä–µ–∂–∏–º
- ‚úÖ –ú–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```
–î–µ–π—Å—Ç–≤–∏–µ                    –í—Ä–µ–º—è
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ù–∞–∂–∞—Ç–∏–µ "–ù–∞–π—Ç–∏"            10-30 —Å–µ–∫  ‚ùå
–í—ã–±–æ—Ä –¥–∞—Ç—ã                 –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ
–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞          –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ
–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ         10-30 —Å–µ–∫  ‚ùå
```

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```
–î–µ–π—Å—Ç–≤–∏–µ                    –í—Ä–µ–º—è
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ù–∞–∂–∞—Ç–∏–µ "–ù–∞–π—Ç–∏"            ~1 —Å–µ–∫     ‚úÖ‚ö°
–í—ã–±–æ—Ä –ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã          –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ‚ö° (prefetch)
–í—ã–±–æ—Ä 2-4 –¥–∞—Ç—ã             –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ‚ö° (background)
–í—ã–±–æ—Ä 5+ –¥–∞—Ç—ã              ~2 —Å–µ–∫     ‚úÖ  (lazy load)
–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞          –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ  (cache)
–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ         –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  ‚úÖ‚ö° (Service Worker)
```

### –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:

**–ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ë—ã–ª–æ: 10-30 —Å–µ–∫
- –°—Ç–∞–ª–æ: 1-3 —Å–µ–∫
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 5-10x** üöÄ

**–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ë—ã–ª–æ: 10-30 —Å–µ–∫
- –°—Ç–∞–ª–æ: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: ‚àû** üöÄ

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ prefetch –¥–∞—Ç:

```javascript
// –í PositionFormCompact.js

// –¢–µ–∫—É—â–µ–µ: –∑–∞–≥—Ä—É–∂–∞–µ–º 3 –¥–∞—Ç—ã –≤ —Ñ–æ–Ω–µ
const backgroundDates = dates.slice(1, 4);

// –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 5 –¥–∞—Ç:
const backgroundDates = dates.slice(1, 6);
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∑–∫–∞–º–∏:

```javascript
// –¢–µ–∫—É—â–µ–µ: 2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏
setTimeout(() => { ... }, (index + 1) * 2000);

// –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É:
setTimeout(() => { ... }, (index + 1) * 1000);
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞:

```javascript
// –í options-cache-sw.js

const CACHE_DURATION = {
  expirations: 24 * 60 * 60 * 1000, // 24 —á–∞—Å–∞
  options: 60 * 60 * 1000,           // 1 —á–∞—Å
  stockPrice: 5 * 60 * 1000          // 5 –º–∏–Ω—É—Ç
};

// –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Service Worker:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
navigator.serviceWorker.getRegistrations().then(registrations => {
  console.log('–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ SW:', registrations.length);
  registrations.forEach(reg => console.log(reg.scope));
});
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—ç—à:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
caches.keys().then(keys => {
  console.log('–ö—ç—à–∏:', keys);
  
  caches.open('options-api-cache-v1').then(cache => {
    cache.keys().then(requests => {
      console.log('–ó–∞–ø–∏—Å–µ–π –≤ –∫—ç—à–µ:', requests.length);
      requests.forEach(req => console.log(req.url));
    });
  });
});
```

### –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –≤—Ä—É—á–Ω—É—é:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
caches.delete('options-api-cache-v1').then(() => {
  console.log('–ö—ç—à –æ—á–∏—â–µ–Ω');
});
```

### –õ–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏:

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —ç–º–æ–¥–∑–∏:
- üîÑ - –ó–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ - –£—Å–ø–µ—à–Ω–æ
- ‚ùå - –û—à–∏–±–∫–∞
- ‚ö° - Prefetch
- üöÄ - Service Worker

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

1. **–í—Ä–µ–º—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏** - –æ—Ç –Ω–∞–∂–∞—Ç–∏—è "–ù–∞–π—Ç–∏" –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç
2. **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø—Ü–∏–æ–Ω–æ–≤** - –æ—Ç –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–π–∫–æ–≤
3. **Cache hit rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫—ç—à–∞
4. **–†–∞–∑–º–µ—Ä –∫—ç—à–∞** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏:

```javascript
// –ü—Ä–∏–º–µ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
const startTime = performance.now();

await fetchExpirations();

const endTime = performance.now();
console.log(`–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–Ω—è–ª–∞ ${endTime - startTime}ms`);
```

---

## üéØ Best Practices

1. **–ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫—ç—à** - –Ω–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ
3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏** - –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ fallback –¥–∞–Ω–Ω—ã–µ
4. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ offline** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É Service Worker

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **IndexedDB** - –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
2. **WebSocket** - –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ü–µ–Ω
3. **Predictive prefetch** - ML –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
4. **Compression** - —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ
5. **CDN** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ CDN

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 12 –æ–∫—Ç—è–±—Ä—è 2025
