# üöÄ Interactive Brokers API Integration

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≠—Ç–∞–ø 0 –ó–ê–í–ï–†–®–ï–ù - –ì–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 22 –æ–∫—Ç—è–±—Ä—è 2025  
**–†–µ—à–µ–Ω–∏–µ:** Client Portal Web API —á–µ—Ä–µ–∑ IBEAM

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏

### üìÑ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **`MIGRATION_PLAN_IB_API.md`** - –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (–≥–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)
2. **`DATA_TYPES_AND_STREAMING.md`** - –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ WebSocket
3. **`API_DEBUG_CONSOLE.md`** - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Debug Console (–≠—Ç–∞–ø 4.5)
4. **`ACTIVATION_INSTRUCTIONS_FOR_COLLEAGUES.md`** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫

### üì¶ –ê—Ä—Ö–∏–≤ (docs/archive):

–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- `IBEAM_SETUP.md` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ IBEAM ‚úÖ
- `IB_PAPER_ACCOUNT_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Paper Account ‚úÖ
- `MARKET_DATA_SUBSCRIPTION.md` - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ ‚úÖ
- `TEST_REPORT.md` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API ‚úÖ
- `REALTIME_TEST_REPORT.md` - –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç real-time –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- `TRADING_API_REPORT.md` - –û—Ç—á–µ—Ç –ø–æ Trading –∏ Portfolio API ‚úÖ
- `FUTURES_STATUS.md` - –°—Ç–∞—Ç—É—Å —Ñ—å—é—á–µ—Ä—Å–æ–≤ ‚úÖ
- `ASSET_TYPES_FULL_REPORT.md` - –¢–∏–ø—ã –∞–∫—Ç–∏–≤–æ–≤ ‚úÖ
- `ACCOUNTS_COMPARISON.md` - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ ‚úÖ

---

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ - –ó–ê–í–ï–†–®–ï–ù

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ IBEAM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ production (89.117.52.143:5000)
- ‚úÖ Paper Trading Account –∞–∫—Ç–∏–≤–µ–Ω (DU4883788)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Client Portal API –¥–æ—Å—Ç—É–ø–µ–Ω

**–ü–æ–¥–ø–∏—Å–∫–∏:**
- ‚úÖ US Securities Snapshot –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ OPRA Options –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ Real-time –¥–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç (SPY: $670.81)
- ‚è≥ CME Futures (–∂–¥–µ–º –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–æ–ª–ª–µ–≥–∞–º–∏)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ Market Data API –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Portfolio API –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (–±–∞–ª–∞–Ω—Å, –ø–æ–∑–∏—Ü–∏–∏, P&L)
- ‚úÖ Trading API –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (–æ—Ä–¥–µ—Ä–∞, –∏—Å—Ç–æ—Ä–∏—è)
- ‚úÖ Real-time —Ü–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ –í—Å–µ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ WebSocket –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑—É—á–µ–Ω—ã
- ‚úÖ –î–≤–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å—Ä–∞–≤–Ω–µ–Ω—ã (–≤—ã–±—Ä–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π)

### üîÑ –≠—Ç–∞–ø 1: IB Client - –í –ü–†–û–¶–ï–°–°–ï

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
2. –°–æ–∑–¥–∞—Ç—å `ib_client.py` —Å –±–∞–∑–æ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
3. –î–æ–±–∞–≤–∏—Ç—å `py_vollib` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ Greeks
4. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## üê≥ IBEAM Docker

**–°–µ—Ä–≤–µ—Ä:** 89.117.52.143  
**–ü—É—Ç—å:** `/opt/ibeam`  
**–ü–æ—Ä—Ç:** 5000  
**–°—Ç–∞—Ç—É—Å:** Running

### –ö–æ–º–∞–Ω–¥—ã:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ssh root@89.117.52.143 "docker ps | grep ibeam"

# –õ–æ–≥–∏
ssh root@89.117.52.143 "docker logs ibeam --tail=50"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
ssh root@89.117.52.143 "cd /opt/ibeam && docker compose restart"

# –¢–µ—Å—Ç API
ssh root@89.117.52.143 "docker exec ibeam curl -s -k https://localhost:5000/v1/portal/iserver/auth/status"
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [IBEAM GitHub](https://github.com/Voyz/ibeam)
- [Client Portal API Documentation](https://www.interactivebrokers.com/campus/ibkr-api-page/cpapi-v1/)
- [py_vollib Documentation](https://github.com/vollib/py_vollib)
- [IB Paper Trading](https://www.interactivebrokers.com/en/trading/paper-trading.php)

---

## üí∞ –≠–∫–æ–Ω–æ–º–∏—è

**–ë—ã–ª–æ:** Polygon $99-249/–º–µ—Å  
**–°—Ç–∞–ª–æ:** IB API $2.50/–º–µ—Å  
**–≠–∫–æ–Ω–æ–º–∏—è:** $1,158 - $2,958 –≤ –≥–æ–¥ üéâ
