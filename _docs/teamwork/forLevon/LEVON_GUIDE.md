# üë®‚Äçüíª –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –õ–µ–≤–æ–Ω–∞ - Backend & DevOps

## üéØ –¢–≤–æ—è –∑–æ–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### 1. **Backend**
- `/backend/app/` - –≤—Å—è –ª–æ–≥–∏–∫–∞
- `/backend/app/api/` - endpoints
- `/backend/app/models/` - –º–æ–¥–µ–ª–∏ –ë–î
- `/backend/app/services/` - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `/backend/requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### 2. **DevOps**
- –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î (PostgreSQL)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
- Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- CI/CD

### 3. **API Contract**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å `API_CONTRACT.md`
- –£–≤–µ–¥–æ–º–ª—è—Ç—å –ê–Ω–¥—Ä–µ—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ API

---

## ü§ù –ö–∞–∫ –ø—Ä–∏–Ω—è—Ç—å –Ω–∞—Ä–∞–±–æ—Ç–∫–∏ –ê–Ω–¥—Ä–µ—è

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å –ê–Ω–¥—Ä–µ–µ–º:

**–ê–Ω–¥—Ä–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–æ–º –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏!**

1. **v0.app ‚Üí Push to GitHub** (—Å–æ–∑–¥–∞–µ—Ç –≤–µ—Ç–∫—É v0/component)
2. **–ê–Ω–¥—Ä–µ–π:** `/andrey-pull-v0` (—Å–∫–∞—á–∏–≤–∞–µ—Ç –∫–æ–¥ –≤ Windsurf)
3. **–ê–Ω–¥—Ä–µ–π:** –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–¥
4. **–ê–Ω–¥—Ä–µ–π:** `/andrey-test` (–∫–æ–º–º–∏—Ç + –ø—É—à + –¥–µ–ø–ª–æ–π –Ω–∞ —Ç–µ—Å—Ç)
5. **–ê–Ω–¥—Ä–µ–π:** —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –°–ê–ú –Ω–∞ test.optioner.online
7. **–¢—ã:** –ø—Ä–æ–≤–µ—Ä—è–µ—à—å PR ‚Üí –º–µ—Ä–∂–∏—à—å
8. **–¢—ã:** `/levon-deploy-prod`

**–ù–∏–∫–∞–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤! –í—Å–µ —á–µ—Ä–µ–∑ GitHub.**

### –î–∞—Ç—å –ê–Ω–¥—Ä–µ—é –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ:

1. **GitHub ‚Üí Settings ‚Üí Collaborators**
2. **Invite Andrey** (–µ–≥–æ GitHub username)
3. **–ê–Ω–¥—Ä–µ–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ**
4. **–ì–æ—Ç–æ–≤–æ!** –ê–Ω–¥—Ä–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–æ–º –∂–µ —Ä–µ–ø–æ

---

## üîß –¢–≤–æ–π Workflow –≤ Windsurf

### –¢–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã:

```
1. /levon-create-branch ‚Üí —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
2. –†–∞–±–æ—Ç–∞–µ—à—å (—Ç–µ—Å—Ç–∏—Ä—É–µ—à—å –ª–æ–∫–∞–ª—å–Ω–æ)
3. /levon-test ‚Üí –∫–æ–º–º–∏—Ç + –ø—É—à + –¥–µ–ø–ª–æ–π –Ω–∞ —Ç–µ—Å—Ç
4. –¢–µ—Å—Ç–∏—Ä—É–µ—à—å –Ω–∞ test.optioner.online
5. PR ‚Üí Merge
6. /levon-deploy-prod
```

**–í—Ä–µ–º—è:** 15-30 –º–∏–Ω—É—Ç

---

## üîÑ Code Review - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ê–Ω–¥—Ä–µ—è
### –ö–æ–≥–¥–∞ –ê–Ω–¥—Ä–µ–π —Å–æ–∑–¥–∞–µ—Ç Pull Request:

1. **GitHub ‚Üí Pull Requests ‚Üí –û—Ç–∫—Ä—ã—Ç—å PR –ê–Ω–¥—Ä–µ—è**

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - [ ] –ö–æ–¥ –Ω–µ –ª–æ–º–∞–µ—Ç backend
   - [ ] –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å main
   - [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö
   - [ ] API –∑–∞–ø—Ä–æ—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ (–ø—Ä–æ–≤–µ—Ä—å `API_CONTRACT.md`)

3. **–ï—Å–ª–∏ –≤—Å–µ –û–ö:**
   ```
   Approve ‚Üí Merge Pull Request
   ```

4. **–ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è:**
   ```
   Request Changes ‚Üí –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
   ```

---

## ü§ñ –ê–Ω–¥—Ä–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å:

–ê–Ω–¥—Ä–µ–π –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å:
```
backend/app/prompts/
‚îú‚îÄ‚îÄ gemini_prompt.py
‚îú‚îÄ‚îÄ claude_prompt.py
‚îî‚îÄ‚îÄ base_prompt.py
```

### –¢–≤–æ—è –∑–∞–¥–∞—á–∞:

1. **–î–∞—Ç—å –ê–Ω–¥—Ä–µ—é –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–∏–º —Ñ–∞–π–ª–∞–º**
2. **–û–±—ä—è—Å–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**
   ```python
   # –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞
   CLAUDE_PROMPT = """
   –¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –æ–ø—Ü–∏–æ–Ω–∞–º...
   
   –î–∞–Ω–Ω—ã–µ:
   - –¢–∏–∫–µ—Ä: {ticker}
   - –¶–µ–Ω–∞: {price}
   - –ú–µ—Ç—Ä–∏–∫–∏: {metrics}
   """
   ```

3. **–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
   uvicorn app.main:app --reload
   
   # –°–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
   curl -X POST "http://localhost:8000/analyze/step3?ticker=SPY&ai_model=claude"
   curl -X POST "http://localhost:8000/analyze/step3?ticker=SPY&ai_model=gemini"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –µ–≥–æ Pull Requests —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏**

---

## üì° –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API Contract

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å:

- –î–æ–±–∞–≤–∏–ª –Ω–æ–≤—ã–π endpoint
- –ò–∑–º–µ–Ω–∏–ª —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- –ò–∑–º–µ–Ω–∏–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å:

1. **–û—Ç–∫—Ä—ã—Ç—å:** `_docs/teamwork/API_CONTRACT.md`

2. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π endpoint:**
   ```markdown
   ### 5. –ù–æ–≤—ã–π endpoint
   
   ```http
   POST /api/new-endpoint?param=value
   ```
   
   **Response:**
   ```json
   {
     "status": "success",
     "data": {...}
   }
   ```
   ```

3. **–£–≤–µ–¥–æ–º–∏—Ç—å –ê–Ω–¥—Ä–µ—è:**
   ```
   "–ê–Ω–¥—Ä–µ–π, –æ–±–Ω–æ–≤–∏–ª API - –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—ã–π endpoint /api/new-endpoint
   –°–º–æ—Ç—Ä–∏ API_CONTRACT.md"
   ```

---

## üöÄ –î–µ–ø–ª–æ–π —Å —É—á–µ—Ç–æ–º —Ä–∞–±–æ—Ç—ã –ê–Ω–¥—Ä–µ—è

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ PR —Å–º–µ—Ä–∂–µ–Ω—ã:**
   ```bash
   git checkout main
   git pull origin main
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è:**
   ```bash
   cd frontend
   npm run build
   ```

3. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ - –Ω–∞–ø–∏—Å–∞—Ç—å –ê–Ω–¥—Ä–µ—é**

4. **–ï—Å–ª–∏ –≤—Å–µ –û–ö - –¥–µ–ø–ª–æ–∏—Ç—å:**
   ```bash
   /deploy  # –ò–ª–∏ —Ç–≤–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
   ```

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ê–Ω–¥—Ä–µ–π —Å–ª–æ–º–∞–ª backend

**–°–∏–º–ø—Ç–æ–º—ã:**
```
npm start
> Error: Cannot find module 'some-package'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –µ–≥–æ –∫–æ–º–º–∏—Ç
git revert <commit-hash>

# –ò–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ê–Ω–¥—Ä–µ—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å
```

### 2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ merge

**–°–∏–º–ø—Ç–æ–º—ã:**
```
CONFLICT (content): Merge conflict in frontend/src/App.js
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª, –Ω–∞–π—Ç–∏:
<<<<<<< HEAD
—Ç–≤–æ–π –∫–æ–¥
=======
–∫–æ–¥ –ê–Ω–¥—Ä–µ—è
>>>>>>> feature/andrey-ui

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é, –æ—Å—Ç–∞–≤–∏—Ç—å –Ω—É–∂–Ω–æ–µ
git add .
git commit -m "fix: resolved merge conflict"
```

### 3. –ê–Ω–¥—Ä–µ–π –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å backend

**–î–∞—Ç—å –µ–º—É:**
1. `.env` —Ñ–∞–π–ª (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤!)
2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Python 3.12
3. –ö–æ–º–∞–Ω–¥—ã:
   ```bash
   python3.12 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   uvicorn app.main:app --reload
   ```

---

## üìû –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –ê–Ω–¥—Ä–µ–µ–º

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å–∏–Ω–∫–∏:

**–†–∞–∑ –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é:**
- –ß—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–ª (backend)
- –ß—Ç–æ –ê–Ω–¥—Ä–µ–π —Å–¥–µ–ª–∞–ª (UI)
- –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- –ü–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- **GitHub Issues** - –¥–ª—è –∑–∞–¥–∞—á
- **Pull Requests** - –¥–ª—è code review
- **Telegram/Slack** - –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ê–Ω–¥—Ä–µ–µ–º

### –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:
- [ ] –î–∞—Ç—å –ê–Ω–¥—Ä–µ—é –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ (Collaborator)
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å Git Workflow
- [ ] –î–∞—Ç—å `.env` –¥–ª—è frontend (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω backend)
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å `API_CONTRACT.md`

### –ö–∞–∂–¥—ã–π –¥–µ–Ω—å:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Pull Requests –æ—Ç –ê–Ω–¥—Ä–µ—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `API_CONTRACT.md` –µ—Å–ª–∏ –º–µ–Ω—è–ª API
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –∑–∞–¥–∞—á–∞–º

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
- [ ] –°–º–µ—Ä–∂–∏—Ç—å –≤—Å–µ PR
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ
- [ ] –î–µ–ø–ª–æ–∏—Ç—å

---

## üéØ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≤–µ—Ç–∫–∏ (—Å–≤–æ–∏ –∏ –ê–Ω–¥—Ä–µ—è)
git branch -a

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª –ê–Ω–¥—Ä–µ–π
git log --author="Andrey"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –µ–≥–æ –≤–µ—Ç–∫–µ
git diff main..feature/andrey-ui-homepage

# –°–º–µ—Ä–∂–∏—Ç—å –≤–µ—Ç–∫—É –ê–Ω–¥—Ä–µ—è
git checkout main
git merge feature/andrey-ui-homepage

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ç–∫—É –ê–Ω–¥—Ä–µ—è (–ø–æ—Å–ª–µ merge)
git branch -d feature/andrey-ui-homepage
git push origin --delete feature/andrey-ui-homepage
```

---

## üìã –®–∞–±–ª–æ–Ω –∑–∞–¥–∞—á–∏ –¥–ª—è –ê–Ω–¥—Ä–µ—è (GitHub Issue)

```markdown
## –ó–∞–¥–∞—á–∞: –°–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ù—É–∂–Ω–∞ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

**–î–∏–∑–∞–π–Ω:**
- –•–µ–¥–µ—Ä —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º
- 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (2x2 grid)
- –§—É—Ç–µ—Ä

**API:**
–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Å—Ç–∞—Ç–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

**–§–∞–π–ª—ã:**
- `frontend/src/pages/HomePage.jsx`
- `frontend/src/components/ToolCard.jsx`

**Deadline:** 12.01.2025

**–í–µ—Ç–∫–∞:** `feature/andrey-ui-homepage`
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-09
