# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ: V3 UI Improvements

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ç–∫–∞:** `feature/v3-ui-improvements`  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ê–Ω–¥—Ä–µ–π (Frontend)  
**–î–ª—è:** –õ–µ–≤–æ–Ω

---

## üìã –û–±–∑–æ—Ä

–í—ã–ø–æ–ª–Ω–µ–Ω –∫–æ–º–ø–ª–µ–∫—Å —É–ª—É—á—à–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Options Calculator V3, –≤–∫–ª—é—á–∞—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–∞—Ç, –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–ª–æ–∫–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ P&L.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–∞—Ç —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏**

#### –ü—Ä–æ–±–ª–µ–º–∞:
–ù–∞ —à–∫–∞–ª–µ –¥–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≥–æ–¥–∞:
- "19 –¥–µ–∫–∞–±—Ä—è 25, 18 –¥–µ–∫–∞–±—Ä—è 26, 17 –¥–µ–∫–∞–±—Ä—è 27, –∑–∞—Ç–µ–º 16 —è–Ω–≤–∞—Ä—è 26"
- –ú–µ—Å—è—Ü—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≥–æ–¥–æ–≤ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤–º–µ—Å—Ç–µ

#### –†–µ—à–µ–Ω–∏–µ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –º–µ—Å—è—Ü–µ–≤ –≤ `OptionsCalculatorV3.jsx`
- –¢–µ–ø–µ—Ä—å –≥–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ **–≤—Å–µ–º –º–µ—Å—è—Ü–∞–º**, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤ —Ç–µ–∫—É—â–µ–º –≥–æ–¥—É
- –§–æ—Ä–º–∞—Ç: `Dec` (2025), `Jan '26` (2026), `Dec '26` (2026), `Jan '27` (2027)

**–ö–æ–º–º–∏—Ç:** `V3 fix: correct month grouping in calendar to include year for non-current years`

---

### 2. **–ü—Ä–æ–±–ª–µ–º–∞ –æ–±—Ä–µ–∑–∫–∏ —à–∫–∞–ª—ã —Å—Ç—Ä–∞–π–∫–æ–≤ (–æ—Ç–ª–æ–∂–µ–Ω–∞)**

#### –ü—Ä–æ–±–ª–µ–º–∞:
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –æ–ø—Ü–∏–æ–Ω–∞ —à–∫–∞–ª–∞ —Å—Ç—Ä–∞–π–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–π. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã –æ–ø—Ü–∏–æ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∏—Å—á–µ–∑–∞–ª–∞.

#### –ü–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è:
1. –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –ø–µ—Ä–≤–æ–º—É —Ñ–ª–∞–∂–∫—É –æ–ø—Ü–∏–æ–Ω–∞
2. –£–≤–µ–ª–∏—á–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∞ (100ms ‚Üí 200ms ‚Üí 300ms)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `requestAnimationFrame` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
5. –î–æ–±–∞–≤–ª–µ–Ω `minWidth` –∫ —Ä—è–¥–∞–º —à–∫–∞–ª—ã
6. –£–¥–∞–ª–µ–Ω `overflow-hidden` –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

#### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª **–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω** –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Ä–µ–Ω–¥–µ—Ä–∞
- –®–∫–∞–ª–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ (—Å–ª–µ–≤–∞)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é —Å–∫—Ä–æ–ª–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–∫—Ä—ã—Ç—ã—Ö —Ñ–ª–∞–≥–æ–≤

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–ª–æ–∂–µ–Ω–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏

**–ö–æ–º–º–∏—Ç—ã:**
- `V3 fix: auto-scroll to first option flag when no ticker price available`
- `V3 fix: increase auto-scroll delay and optimize dependencies`
- `V3: completely disable auto-scroll to fix clipping issue`

---

### 3. **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–ª–æ–∫–æ–≤**

–°–ª–µ–¥—É—é—â–∏–µ –±–ª–æ–∫–∏ —Å–¥–µ–ª–∞–Ω—ã –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é 20%:

#### 3.1 –ü–æ–∑–∏—Ü–∏–∏ –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `BaseAssetPositions.jsx`
- –°—Ç–∏–ª–∏: `opacity-20 pointer-events-none`

#### 3.2 –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (Risk Calculator)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `RiskCalculator` –≤ `OptionsCalculatorV3.jsx`
- –°—Ç–∏–ª–∏: `opacity-20 pointer-events-none`

#### 3.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `CalculatorSettings` –≤ `OptionsCalculatorV3.jsx`
- –°—Ç–∏–ª–∏: `opacity-20 pointer-events-none`

**–ö–æ–º–º–∏—Ç—ã:**
- `V3: disable BaseAssetPositions with 20% opacity and pointer-events-none`
- `V3: disable strategy button and calculator settings with 20% opacity`
- `V3 fix: make entire RiskCalculator block disabled with 20% opacity`

---

### 4. **–£–ª—É—á—à–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ P&L**

#### 4.1 –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ª–∏–Ω–∏–π –æ–ø—Ü–∏–æ–Ω–æ–≤
- –õ–∏–Ω–∏–∏ CALL –∏ PUT —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å **20% –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é**
- CALL: `rgba(59, 130, 246, 0.2)` (—Å–∏–Ω–∏–π)
- PUT: `rgba(249, 115, 22, 0.2)` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)

#### 4.2 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏ Total
- **–ó–µ–ª–µ–Ω–∞—è** (`#10B981`) ‚Äî –≤ –∑–æ–Ω–µ –≤—ã—à–µ 0 –ø–æ –æ—Å–∏ Y (–ø—Ä–∏–±—ã–ª—å)
- **–ö—Ä–∞—Å–Ω–∞—è** (`#EF4444`) ‚Äî –≤ –∑–æ–Ω–µ –Ω–∏–∂–µ 0 –ø–æ –æ—Å–∏ Y (—É–±—ã—Ç–æ–∫)
- –õ–∏–Ω–∏—è –ø–ª–∞–≤–Ω–æ –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ –Ω—É–ª–µ–≤–æ–π –ª–∏–Ω–∏–∏

#### 4.3 –ü–µ—Ä–µ–Ω–æ—Å –º–µ—Ç–æ–∫ —Ç–æ—á–µ–∫ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
- –ú–µ—Ç–∫–∏ "BE: $XXX.XX" –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã **–≤ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫–∞**
- –ü–æ–∑–∏—Ü–∏—è: `y: maxPL`, `yanchor: 'bottom'`

**–ö–æ–º–º–∏—Ç—ã:**
- `V3: chart improvements - 20% opacity for option lines, green/red Total line based on Y axis`
- `V3: move breakeven labels to top of chart`

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤

**–í—Å–µ–≥–æ –∫–æ–º–º–∏—Ç–æ–≤:** 15

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã:
1. `V3 fix: correct month grouping in calendar to include year for non-current years`
2. `V3: disable BaseAssetPositions with 20% opacity and pointer-events-none`
3. `V3: disable strategy button and calculator settings with 20% opacity`
4. `V3 fix: make entire RiskCalculator block disabled with 20% opacity`
5. `V3: chart improvements - 20% opacity for option lines, green/red Total line based on Y axis`
6. `V3: move breakeven labels to top of chart`
7. `V3: completely disable auto-scroll to fix clipping issue`
8. `V3 FIX: remove overflow-hidden from parent container that was clipping StrikeScale`

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `frontend/src/pages/OptionsCalculatorV3.jsx`
2. `frontend/src/components/CalculatorV2/BaseAssetPositions.jsx`
3. `frontend/src/components/CalculatorV2/PLChart.jsx`
4. `frontend/src/components/CalculatorV2/StrikeScale.jsx`

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- React hooks (useState, useEffect, useMemo, useCallback)
- Tailwind CSS (opacity-20, pointer-events-none)
- Plotly.js (–¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞)
- requestAnimationFrame (–¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∞)

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª —à–∫–∞–ª—ã —Å—Ç—Ä–∞–π–∫–æ–≤
**–°—Ç–∞—Ç—É—Å:** –û—Ç–ª–æ–∂–µ–Ω–æ  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Ä–µ–Ω–¥–µ—Ä–∞ DOM.  
**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –æ—Ç–∫–ª—é—á–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é —Å–∫—Ä–æ–ª–ª–∏—Ç—å —à–∫–∞–ª—É.  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∞ —à–∫–∞–ª—ã —Å –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–æ–º.

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£–ª—É—á—à–µ–Ω–∏—è UX:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ —Å –≥–æ–¥–∞–º–∏
- ‚úÖ –ß–µ—Ç–∫–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ –æ–ø—Ü–∏–æ–Ω–æ–≤
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏–Ω–∏–∏ Total (–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
- ‚úÖ –£–¥–æ–±–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤–≤–µ—Ä—Ö—É –≥—Ä–∞—Ñ–∏–∫–∞

### –ö–æ–¥:
- ‚úÖ –ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö React –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ useMemo

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã

1. **–ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª —à–∫–∞–ª—ã —Å—Ç—Ä–∞–π–∫–æ–≤:**
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Intersection Observer API
   - –î–æ–±–∞–≤–∏—Ç—å callback –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ —à–∫–∞–ª—ã
   - –í–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ref callback –≤–º–µ—Å—Ç–æ useEffect

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ
   - –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤ P&L

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –æ–ø—Ü–∏–æ–Ω–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å debounce –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≥—Ä–∞—Ñ–∏–∫–∞

---

## üîó –°—Å—ã–ª–∫–∏

**–í–µ—Ç–∫–∞:** `feature/v3-ui-improvements`  
**Pull Request:** https://github.com/levonmusoyan-cell/syn1/pull/new/feature/v3-ui-improvements

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ê–Ω–¥—Ä–µ—é (Frontend Developer)

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á–µ—Ç–∞**
