# üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TWS API –¥–ª—è –ê–Ω–¥—Ä–µ—è (clientId=102)

**–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TWS API –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –ê–Ω–¥—Ä–µ—è.**

---

## üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏

### 1. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **`SETUP_FOR_ANDREY.md`** ‚Äî –ø–æ–ª–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–ª—é—á–∞
  - –°–æ–∑–¥–∞–Ω–∏–µ `.env` —Ñ–∞–π–ª–∞
  - –ó–∞–ø—É—Å–∫ SSH —Ç—É–Ω–Ω–µ–ª—è
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. –°–∫—Ä–∏–ø—Ç—ã (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ)
- **`connect_to_prod_tws_andrey.sh`** ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç SSH —Ç—É–Ω–Ω–µ–ª—å –∫ prod TWS
- **`test_tws_connection_andrey.py`** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 3. VNC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–µ—Å–ª–∏ TWS –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç)

**–î–ª—è macOS/Linux:**
- **`QUICK_VNC_SETUP.md`** ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (2 –º–∏–Ω—É—Ç—ã)
- **`VNC_CONNECTION_GUIDE.md`** ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å troubleshooting

**–î–ª—è Windows:**
- **`QUICK_VNC_SETUP_WINDOWS.md`** ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ Windows (2 –º–∏–Ω—É—Ç—ã)
- **`WINDOWS_SETUP_GUIDE.md`** ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Windows

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **`.env.tws_andrey`** ‚Äî —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è TWS (clientId=102)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ü—Ä–æ—á–∏—Ç–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
```bash
cat SETUP_FOR_ANDREY.md
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π SSH —Ç—É–Ω–Ω–µ–ª—å
```bash
./connect_to_prod_tws_andrey.sh
```

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
python test_tws_connection_andrey.py
```

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, —É–≤–∏–¥–∏—à—å:
```
‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´! –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
```

---

## üìå –í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **Client ID** | 102 |
| **SSH —Å–µ—Ä–≤–µ—Ä** | root@89.117.52.143 |
| **SSH –∫–ª—é—á** | ~/.ssh/id_optioner |
| **–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç** | 4002 |
| **Prod TWS –ø–æ—Ä—Ç** | 4002 |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ
- –ß–∏—Ç–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü–æ–ª—É—á–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á—ë—Ç—ã Greeks
- –ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ
- **–†–∞–∑–º–µ—â–∞—Ç—å –æ—Ä–¥–µ—Ä–∞** (–Ω–∏–∫–∞–∫–∏—Ö `placeOrder`, `cancelOrder`)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å clientId –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ó–∞–ø—É—Å–∫–∞—Ç—å —Ç—è–∂—ë–ª—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

## ‚ö†Ô∏è –ï—Å–ª–∏ TWS –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏:
1. –ü—Ä–æ—á–∏—Ç–∞–π `QUICK_VNC_SETUP.md` (2 –º–∏–Ω—É—Ç—ã)
2. –ü–æ–¥–∫–ª—é—á–∏—Å—å —á–µ—Ä–µ–∑ VNC –∏ –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
3. –ü–æ–≤—Ç–æ—Ä–∏ –∑–∞–ø—Ä–æ—Å

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å –æ—Ç–∫—Ä—ã—Ç
lsof -i :4002

# –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –∑–∞–Ω–æ–≤–æ
./connect_to_prod_tws_andrey.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: "TimeoutError"
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ TWS –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø—Ä–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `ssh -i ~/.ssh/id_optioner root@89.117.52.143`

### –ü—Ä–æ–±–ª–µ–º–∞: "Client ID already in use"
- –ö—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç clientId=102
- –ò–ª–∏ —Ç—ã –ø–æ–¥–∫–ª—é—á—ë–Ω –¥–≤–∞–∂–¥—ã ‚Äî –∑–∞–∫—Ä–æ–π –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –ó–∞–∫—Ä—ã—Ç—å —Ç—É–Ω–Ω–µ–ª—å
```bash
pkill -f 'ssh.*4002'
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:
- –ü–∞–ø–∫–∞ `../` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `../TWS_DEV_WORKFLOW.md` ‚Äî –≥–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ —Ä–∞–±–æ—Ç–µ —Å TWS API
- `../TWS_OPTIONS_CAPABILITIES_REPORT.md` ‚Äî –æ—Ç—á—ë—Ç –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 18 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–ª—è:** –ê–Ω–¥—Ä–µ–π (clientId=102)
