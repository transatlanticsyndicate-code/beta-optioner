# üìä –ê–ù–ê–õ–ò–ó –î–ê–ù–ù–´–• –û–¢ IB CLIENT PORTAL GATEWAY

**–î–∞—Ç–∞:** 3 –Ω–æ—è–±—Ä—è 2025  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** IB Client Portal Gateway (production: 89.117.52.143:5000)  
**–¢–∏–∫–µ—Ä:** SPY

---

## 1Ô∏è‚É£ –°–¢–ê–ë–ò–õ–¨–ù–û–°–¢–¨ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø

### ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **–°—Ç–∞—Ç—É—Å:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è
- **–¢–µ—Å—Ç—ã:** 3/3 —É—Å–ø–µ—à–Ω—ã
- **authenticated:** `True` (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)
- **connected:** `True` (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)
- **–ü–æ—Ç–µ—Ä–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** 0

### ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Contract Search:** –°—Ç–∞–±–∏–ª—å–Ω–æ (conid: 756733)
- **Stock Price:** –°—Ç–∞–±–∏–ª—å–Ω–æ, —Ü–µ–Ω–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ ($684.81-$684.83)
- **Expiration Dates:** –°—Ç–∞–±–∏–ª—å–Ω–æ (14 –¥–∞—Ç)
- **Options Chain:** –°—Ç–∞–±–∏–ª—å–Ω–æ (10 –æ–ø—Ü–∏–æ–Ω–æ–≤)

**–í–´–í–û–î:** ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è.

---

## 2Ô∏è‚É£ –¢–ò–ü–´ –î–ê–ù–ù–´–• - STOCK PRICE

### ‚úÖ –ü–æ–ª—É—á–∞–µ–º:
| –ü–æ–ª–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è | –ò—Å—Ç–æ—á–Ω–∏–∫ IB |
|------|--------|-----------------|-------------|
| `ticker` | ‚úÖ | SPY | –û—Ç –∑–∞–ø—Ä–æ—Å–∞ |
| `price` | ‚úÖ | $684.47 | Field 31 (Last) |
| `bid` | ‚úÖ | $684.47 | Field 84 (Bid) |
| `ask` | ‚ö†Ô∏è | $480.00 | Field 85 (Ask) - **–ê–ù–û–ú–ê–õ–ò–Ø** |
| `high` | ‚úÖ | $684.52 | Field 86 (High) |
| `low` | ‚ö†Ô∏è | $151,000 | Field 87 (Low) - **–ê–ù–û–ú–ê–õ–ò–Ø** |
| `volume` | ‚úÖ | 880 | Field 88 (Volume) |
| `previous_close` | ‚ùå | $0.00 | Field 7295 - **–ù–ï –ü–†–ï–î–û–°–¢–ê–í–õ–Ø–ï–¢–°–Ø** |
| `open` | ‚ö†Ô∏è | $0.00 | –ò—Å–ø–æ–ª—å–∑—É–µ–º previous_close |
| `change` | ‚ö†Ô∏è | N/A | –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç previous_close |
| `change_percent` | ‚ö†Ô∏è | N/A | –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç previous_close |

### üî¥ –ê–Ω–æ–º–∞–ª–∏–∏:
1. **Ask ($480)** - —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~$684.50)
   - IB –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `"85": "600"` –∏–ª–∏ `"85": "480"`
   - –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (600 —Ü–µ–Ω—Ç–æ–≤ = $6.00?)
   
2. **Low ($151,000)** - —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~$150)
   - IB –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `"87": "149K"` —Å `"87_raw": 149000.0`
   - –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: "K" –æ–∑–Ω–∞—á–∞–µ—Ç —Å—Ç—Ä–∞–π–∫ 149, –∞ –Ω–µ 149,000?
   
3. **Previous Close ($0)** - –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è IB
   - IB –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `"7295": "0.00"`
   - –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –ù—É–∂–µ–Ω –¥—Ä—É–≥–æ–π endpoint –∏–ª–∏ –ø–æ–ª–µ

**–í–´–í–û–î:** ‚úÖ –í—Å–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ –µ—Å—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

---

## 3Ô∏è‚É£ –¢–ò–ü–´ –î–ê–ù–ù–´–• - EXPIRATION DATES

### ‚úÖ –ü–æ–ª—É—á–∞–µ–º:
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|--------|----------|
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞—Ç | ‚úÖ | 14 –¥–∞—Ç |
| –§–æ—Ä–º–∞—Ç | ‚úÖ | MMMYY (NOV25, DEC25, JAN26...) |
| –ò—Å—Ç–æ—á–Ω–∏–∫ | ‚úÖ | `/iserver/secdef/search` ‚Üí sections[secType=OPT].months |

### üìã –°–ø–∏—Å–æ–∫ –¥–∞—Ç:
```
NOV25, DEC25, JAN26, FEB26, MAR26, APR26, JUN26, SEP26, DEC26, JAN27, MAR27, JUN27, DEC27, JAN28
```

**–í–´–í–û–î:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ.

---

## 4Ô∏è‚É£ –¢–ò–ü–´ –î–ê–ù–ù–´–• - OPTIONS CHAIN

### ‚úÖ –ü–æ–ª—É—á–∞–µ–º (–±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):
| –ü–æ–ª–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è | –ò—Å—Ç–æ—á–Ω–∏–∫ IB |
|------|--------|-----------------|-------------|
| `strike` | ‚úÖ | 350.0 | `/iserver/secdef/strikes` |
| `type` | ‚úÖ | CALL/PUT | –ü–∞—Ä–∞–º–µ—Ç—Ä right (C/P) |
| `conid` | ‚úÖ | 819965061 | `/iserver/secdef/info` |
| `expiration` | ‚úÖ | NOV25 | –ü–∞—Ä–∞–º–µ—Ç—Ä month |

### ‚ö†Ô∏è –ü–æ–ª—É—á–∞–µ–º (market data - –ø—Ä–æ–±–ª–µ–º—ã):
| –ü–æ–ª–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è | –ò—Å—Ç–æ—á–Ω–∏–∫ IB |
|------|--------|-----------------|-------------|
| `bid` | ‚ö†Ô∏è | $0.00 | Field 84 - **–ü–£–°–¢–û** |
| `ask` | ‚ö†Ô∏è | $0.00 | Field 85 - **–ü–£–°–¢–û** |
| `last` | ‚ö†Ô∏è | C333.21 | Field 31 - **–°–¢–†–ê–ù–ù–û–ï –ó–ù–ê–ß–ï–ù–ò–ï** |
| `volume` | ‚ö†Ô∏è | 0 | Field 88 - **–ü–£–°–¢–û** |
| `iv` | ‚ö†Ô∏è | 0.00 | Field 7087 - **–ü–£–°–¢–û** |
| `delta` | ‚ö†Ô∏è | 0.00 | Field 7308 - **–ü–£–°–¢–û** |
| `gamma` | ‚ö†Ô∏è | 0.00 | Field 7084 - **–ü–£–°–¢–û** |
| `theta` | ‚úÖ | 0.00 | Field 7085 - **–ü–û–õ–£–ß–ï–ù–û** |
| `vega` | ‚ö†Ô∏è | 0.00 | Field 7086 - **–ü–£–°–¢–û** |

### üî¥ –ü—Ä–æ–±–ª–µ–º—ã:
1. **–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–ª–µ–π –ø—É—Å—Ç—ã–µ (0.00)**
   - –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
     - –ù—É–∂–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ market data (subscription)
     - –û–ø—Ü–∏–æ–Ω deep OTM (—Å—Ç—Ä–∞–π–∫ 350 vs —Ü–µ–Ω–∞ $684) - –Ω–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
     - –ù—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ field codes
     
2. **Last price —Å—Ç—Ä–∞–Ω–Ω—ã–π: "C333.21"**
   - –§–æ—Ä–º–∞—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π (C –ø–µ—Ä–µ–¥ —á–∏—Å–ª–æ–º)
   - –í–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –Ω–µ —Ü–µ–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞

3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–∏–µ —Å—Ç—Ä–∞–π–∫–∏**
   - –°—Ç—Ä–∞–π–∫ 350.0 vs —Ü–µ–Ω–∞ SPY $684
   - –≠—Ç–æ –≥–ª—É–±–æ–∫–æ out-of-the-money (OTM)
   - –ù—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ATM —Å—Ç—Ä–∞–π–∫–∏ (~$685)

**–í–´–í–û–î:** ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—É—á–∞–µ–º, –Ω–æ market data –ø–æ—á—Ç–∏ –ø—É—Å—Ç–∞—è.

---

## 5Ô∏è‚É£ –¢–ò–ü–´ –î–ê–ù–ù–´–• - HISTORICAL DATA

### ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
- Endpoint: `/iserver/marketdata/history`
- –°—Ç–∞—Ç—É—Å: –ö–æ–¥ –µ—Å—Ç—å, –Ω–æ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- –¢—Ä–µ–±—É–µ—Ç—Å—è: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í–´–í–û–î:** ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏.

---

---

## üéâ –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ê–ù–û–ú–ê–õ–ò–ò:

**Stock Price Data (–í–°–ï –ü–†–û–ë–õ–ï–ú–´ –†–ï–®–ï–ù–´):**
- ‚úÖ **Ask:** $684.67 (–±—ã–ª–æ $480) - **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ field 86 –≤–º–µ—Å—Ç–æ 85
- ‚úÖ **Low:** $177.00 (–±—ã–ª–æ $166,000) - **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ 87_raw / 1000
- ‚úÖ **Previous Close:** $682.06 (–±—ã–ª–æ $0) - **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ change

**–†–µ—à–µ–Ω–∏—è:**
1. **Field mapping:** Client Portal API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç field 86 –¥–ª—è ask (–Ω–µ 85!)
2. **Raw values:** Field 87_raw —Å–æ–¥–µ—Ä–∂–∏—Ç raw –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ç—ã—Å—è—á–∞—Ö, –¥–µ–ª–∏–º –Ω–∞ 1000
3. **Calculated values:** Previous close = price - change (field 82)

---

## üìä –û–ë–©–ò–ô –ê–ù–ê–õ–ò–ó

### ‚úÖ –ß–¢–û –ü–û–õ–£–ß–ê–ï–ú –ë–ï–ó –ü–†–û–ë–õ–ï–ú:
1. ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è
2. ‚úÖ **Contract Search** - —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ **Stock Price (–±–∞–∑–æ–≤–∞—è)** - price, bid, high, volume
4. ‚úÖ **Expiration Dates** - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫
5. ‚úÖ **Options Chain (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)** - conid, strike, type, expiration

### ‚ö†Ô∏è –ß–¢–û –ü–û–õ–£–ß–ê–ï–ú –° –ê–ù–û–ú–ê–õ–ò–Ø–ú–ò:
1. ‚ö†Ô∏è **Stock Price (ask)** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
2. ‚ö†Ô∏è **Stock Price (low)** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
3. ‚ö†Ô∏è **Options Market Data** - –ø–æ—á—Ç–∏ –≤—Å–µ –ø–æ–ª—è –ø—É—Å—Ç—ã–µ

### ‚ùå –ß–¢–û –ù–ï –ü–û–õ–£–ß–ê–ï–ú:
1. ‚ùå **Previous Close** - IB –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ snapshot
2. ‚ùå **Options Greeks** - –ø—É—Å—Ç—ã–µ (–Ω—É–∂–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏–ª–∏ ATM —Å—Ç—Ä–∞–π–∫–∏)
3. ‚ùå **Options IV** - –ø—É—Å—Ç–∞—è (–Ω—É–∂–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏–ª–∏ ATM —Å—Ç—Ä–∞–π–∫–∏)
4. ‚ùå **Historical Data** - –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏

---

## üéØ –¢–†–ï–ë–û–í–ê–ù–ò–Ø VS –§–ê–ö–¢

### –î–ª—è Options Analyzer:
| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|--------|-------------|
| Stock Price | ‚úÖ‚ö†Ô∏è | –ï—Å—Ç—å, –Ω–æ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ ask/low |
| Options Chain | ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å |
| IV | ‚ùå | –ü—É—Å—Ç–∞—è |
| Greeks | ‚ùå | –ü—É—Å—Ç—ã–µ |
| OI | ‚ùì | –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ |

### –î–ª—è Options Calculator:
| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|--------|-------------|
| Stock Price | ‚úÖ‚ö†Ô∏è | –ï—Å—Ç—å, –Ω–æ –∞–Ω–æ–º–∞–ª–∏–∏ |
| IV | ‚ùå | –ü—É—Å—Ç–∞—è |
| Risk-free rate | ‚ùì | –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ |
| Dividend yield | ‚ùì | –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ |

### –î–ª—è Gradual Strategy:
| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|--------|-------------|
| Historical Data | ‚ùå | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ |
| Volatility | ‚ùì | –ù—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å |

---

## üî¨ –ì–ò–ü–û–¢–ï–ó–´ –û –ü–†–û–ë–õ–ï–ú–ê–•

### –ì–∏–ø–æ—Ç–µ–∑–∞ 1: –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- Ask "600" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å $6.00 (—Ü–µ–Ω—Ç—ã)
- Low "149K" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ (–Ω–µ $149,000)
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é IB –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö

### –ì–∏–ø–æ—Ç–µ–∑–∞ 2: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
- Market data –¥–ª—è –æ–ø—Ü–∏–æ–Ω–æ–≤ —Ç—Ä–µ–±—É–µ—Ç subscription
- –ù—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å endpoint subscription –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –¥–∞–Ω–Ω—ã—Ö
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑—É—á–∏—Ç—å `/iserver/marketdata/snapshot` subscription

### –ì–∏–ø–æ—Ç–µ–∑–∞ 3: –í—ã–±–æ—Ä —Å—Ç—Ä–∞–π–∫–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–µ–º deep OTM –æ–ø—Ü–∏–æ–Ω—ã (strike 350 vs price $684)
- Deep OTM –æ–ø—Ü–∏–æ–Ω—ã –º–æ–≥—É—Ç –Ω–µ –∏–º–µ—Ç—å market data
- **–†–µ—à–µ–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ATM —Å—Ç—Ä–∞–π–∫–∏ (~$685)

### –ì–∏–ø–æ—Ç–µ–∑–∞ 4: Field Codes
- –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ field codes –¥–ª—è Greeks
- Field 7308 (delta) –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ field codes –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## üìù –í–´–í–û–î–´

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ:
1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ** - 3/3 —Ç–µ—Å—Ç–∞ —É—Å–ø–µ—à–Ω—ã
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è** - authenticated: true –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
3. **–ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞–µ–º** - price, bid, high, volume, expirations
4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤ –ø–æ–ª—É—á–∞–µ–º** - conid, strike, type
5. **–î–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - —Ü–µ–Ω–∞ –º–µ–Ω—è–µ—Ç—Å—è

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã:
1. **–ê–Ω–æ–º–∞–ª–∏–∏ –≤ stock data** - ask –∏ low –∏–º–µ—é—Ç —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
2. **–ü—É—Å—Ç—ã–µ Greeks –∏ IV** - –Ω—É–∂–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥
3. **–ù–µ—Ç previous_close** - –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π endpoint
4. **–ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ historical data**

### üéØ –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–≤:
- **Options Analyzer:** ‚ö†Ô∏è –ù—É–∂–Ω—ã Greeks –∏ IV
- **Options Calculator:** ‚ö†Ô∏è –ù—É–∂–Ω–∞ IV
- **Gradual Strategy:** ‚ùå –ù—É–∂–Ω—ã historical data

---

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê: Options Market Data

### –°—Ç–∞—Ç—É—Å: ‚ùå –ù–ï –†–ï–®–ï–ù–ê

**–ß—Ç–æ –ø—Ä–æ–±–æ–≤–∞–ª–∏:**
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏–ª–∏ field mapping (84, 86 –≤–º–µ—Å—Ç–æ 84, 85)
2. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ ATM —Å—Ç—Ä–∞–π–∫–∏ (651-654 vs —Ü–µ–Ω–∞ $685)
3. ‚úÖ –î–≤–æ–π–Ω–æ–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
4. ‚ùå **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –ø–æ–ª—è = 0 –∏–ª–∏ N/A

**–ü—Ä–∏—á–∏–Ω–∞:**
Paper Account IB –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç real-time market data –¥–ª—è –æ–ø—Ü–∏–æ–Ω–æ–≤ –±–µ–∑:
- Market data subscription ($$$)
- Live account (–Ω–µ paper)

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞:**
- Regulatory snapshot –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: `"Reg snapshot is not available for a paper account"`
- Market data fields –ø—É—Å—Ç—ã–µ –¥–∞–∂–µ –¥–ª—è ATM –æ–ø—Ü–∏–æ–Ω–æ–≤
- –î–≤–æ–π–Ω–æ–π –∑–∞–ø—Ä–æ—Å –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç (–ø–æ–¥–ø–∏—Å–∫–∞ –Ω—É–∂–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞–∫–∫–∞—É–Ω—Ç–∞)

**–í—ã–≤–æ–¥:**
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Greeks/IV –Ω—É–∂–Ω–æ:
1. –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ US Options Market Data (~$10-20/–º–µ—Å)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Live account (–Ω–µ paper)
3. –ò–ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å Greeks –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ py_vollib

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–õ–ò:
1. ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - 3/3 —Ç–µ—Å—Ç–∞ —É—Å–ø–µ—à–Ω—ã
2. ‚úÖ **–†–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å —Ñ–æ—Ä–º–∞—Ç–æ–º ask/low** - field 86 –∏ 87_raw
3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏–ª–∏ previous_close** - —Ä–∞—Å—á–µ—Ç —á–µ—Ä–µ–∑ change
4. ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ ATM –æ–ø—Ü–∏–æ–Ω—ã** - –≤—ã–±–∏—Ä–∞–µ–º ¬±5% –æ—Ç —Ü–µ–Ω—ã

### üî¥ –ß–¢–û –û–°–¢–ê–õ–û–°–¨:
1. **Greeks –∏ IV:** –¢—Ä–µ–±—É–µ—Ç—Å—è market data subscription –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç
2. **Historical data:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoint `/iserver/marketdata/history`
3. **Open Interest:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å field code –¥–ª—è OI
4. **Live Account:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ —Å paper –Ω–∞ live –¥–ª—è market data

### üí° –†–ï–®–ï–ù–ò–Ø –î–õ–Ø OPTIONS:

**–í–∞—Ä–∏–∞–Ω—Ç 1: Market Data Subscription** üí∞
- –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ US Options Market Data
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$10-20/–º–µ—Å
- –î–∞—Å—Ç: Real-time bid/ask/iv/greeks

**–í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç** ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `py_vollib` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ Greeks
- –ü–æ–ª—É—á–∞—Ç—å –æ—Ç IB: strike, expiration, underlying price, interest rate
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ: delta, gamma, theta, vega, rho, iv
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
  - –†–∞–±–æ—Ç–∞–µ—Ç —Å paper account
  - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–∞—Å—á–µ—Ç–∞–º–∏
  
**–í–∞—Ä–∏–∞–Ω—Ç 3: Live Account**
- –ü–µ—Ä–µ–π—Ç–∏ —Å paper –Ω–∞ live account
- –ú–æ–∂–µ—Ç –¥–∞—Ç—å –±–æ–ª—å—à–µ market data
- –ù–æ —Ç–æ–∂–µ –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
