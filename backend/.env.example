# ============================================
# OPTIONS FLOW AI ANALYZER - Environment Variables
# ============================================
# 
# ВАЖНО: Скопируй этот файл в .env и заполни своими ключами
# Команда: cp .env.example .env
#
# Файл .env НЕ коммитится в git (защищен через .gitignore)
# ============================================

# ============================================
# ДАННЫЕ ОПЦИОНОВ
# ============================================

# Источник данных: polygon или yahoo
# polygon - требует Starter план ($29/мес) для Open Interest
# yahoo - бесплатно, но неофициальный API
OPTIONS_DATA_SOURCE=yahoo

# Polygon.io API Key
# Получить: https://polygon.io/dashboard/api-keys
# Бесплатный tier: 5 запросов/минуту (без Open Interest)
# Starter tier: $29/мес (с Open Interest)
POLYGON_API_KEY=your_polygon_api_key_here

# ============================================
# ИСКУССТВЕННЫЙ ИНТЕЛЛЕКТ
# ============================================

# Выбор AI провайдера: gemini или claude
AI_PROVIDER=gemini

# --- GOOGLE GEMINI ---
# Получить: https://ai.google.dev/
# Бесплатный tier: 15 запросов/минуту
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash
GEMINI_TEMPERATURE=0.3
GEMINI_TOP_P=0.8
GEMINI_TOP_K=40
GEMINI_MAX_TOKENS=2048

# --- ANTHROPIC CLAUDE ---
# Получить: https://console.anthropic.com/
# Платный: $0.80 за 1M токенов
CLAUDE_API_KEY=
CLAUDE_MODEL=claude-3-5-haiku-20241022
CLAUDE_TEMPERATURE=0.3
CLAUDE_TOP_P=0.8
CLAUDE_MAX_TOKENS=2048

# Параметры креативности (Temperature):
# 0.0-0.3 = Факты и аналитика (рекомендуем для опционного анализа)
# 0.4-0.7 = Сбалансированный режим
# 0.8-1.0 = Креативный режим

# ============================================
# НАСТРОЙКИ СЕРВЕРА
# ============================================

# Режим работы: development или production
ENVIRONMENT=development

# Порт для FastAPI сервера
PORT=8000

# Разрешенные origins для CORS (через запятую)
# Для локальной разработки
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================
# КЭШИРОВАНИЕ
# ============================================

# Время жизни кэша в секундах (5 минут = 300)
CACHE_TTL=300

# ============================================
# ЛОГИРОВАНИЕ
# ============================================

# Уровень логов: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ============================================
# TELEGRAM (опционально, для будущего)
# ============================================

# Telegram Bot Token
# Получить: @BotFather в Telegram
TELEGRAM_BOT_TOKEN=

# Telegram Channel ID (для проверки подписки)
# Формат: @channel_name или -1001234567890
TELEGRAM_CHANNEL_ID=

# ============================================
# БАЗА ДАННЫХ (PostgreSQL)
# ============================================

# PostgreSQL для истории анализов
# Для локальной разработки используй SSH туннель: ./scripts/db-tunnel.sh
# Формат: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://your_user:your_password@localhost:5432/optioner

# Base URL для генерации ссылок на анализы
BASE_URL=http://localhost:3000
